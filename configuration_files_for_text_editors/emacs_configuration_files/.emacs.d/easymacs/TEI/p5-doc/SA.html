<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (4)-->
<head><title> TEI P5: Guidelines for Electronic Text Encoding and Interchange: 11  Linking, Segmentation, and Alignment</title><link href="/favicon.ico" rel="icon" type="image/x-icon"/><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"/><meta name="author" content="edited by C.M. Sperberg-McQueen and&#10;&#9;Lou Burnard"/><meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets"/><meta name="DC.Title" content="TEI P5: Guidelines for Electronic Text Encoding and Interchange: 11  Linking, Segmentation, and Alignment"/><meta name="DC.Type" content="Text"/><meta name="DC.Format" content="application/xhtml+xml"/><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><link href="guidelines.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
	    function startUp() {
	  } 

	function openpopup(location){ 
	var newwin =
        window.open(location,"OUCSPopup","status=no,menu=no,toolbar=no,width=350,height=400,resizable=yes,scrollbars=yes")
          }
	</script></head><body onload="startUp()"><div id="hdr"><h2 class="subtitle">Linking, Segmentation, and Alignment</h2><h1 class="title">TEI P5: Guidelines for Electronic Text Encoding and Interchange</h1></div><div id="accessibility"><span class="tocontent"><a href="?style=text">Text only</a>
      | <a class="skiplinks" href="#rh-column" title="Go to main page content">Skip links</a></span></div><div id="hdr2"><!--no nav --></div><div id="hdr3"><a href="#rh-column" title="Go to main page content" class="skiplinks">Skip links</a><a class="hide">|</a><div class="breadcrumb"><ul class="breadcrumb"><li class="breadcrumb-first"><a class="breadcrumb" href="index.html">TEI P5 Guidelines</a></li><li class="breadcrumb"><a class="breadcrumb" href="/"></a></li></ul></div><a class="hide">|</a><a class="bannerright" href="http://www.tei-c.org/Consortium/" title="Go to home page">TEI Consortium</a></div><div class="column-wrapper"><div id="lh-col"><div id="lh-col-top"><!--top of left-hand column--></div><div id="lh-col-bottom"><!--bottom of left-hand column--><div class="tocFront"><div class="tocContainer"><div class="toclist0"><a class="toclist" href="FM1.html"> Introductory Note</a>
</div><div class="toclist0"><a class="toclist" href="AB.html"> About These Guidelines</a>
</div><div class="toclist0"><a class="toclist" href="SG.html"> A Gentle Introduction to XML</a>
</div></div></div><div class="tocBody"><!--start TOC--><div class="tocContainer"><!--TOC components--><div class="toclist0"><a class="toclist" href="CH.html">1  Languages and Character Sets</a>
</div><div class="toclist0"><a class="toclist" href="ST.html">2  The TEI infrastructure</a>
</div><div class="toclist0"><a class="toclist" href="HD.html">3  The TEI Header</a>
</div><div class="toclist0"><a class="toclist" href="CO.html">4  Elements Available in All TEI Documents</a>
</div><div class="toclist0"><a class="toclist" href="DS.html">5  Default Text Structure</a>
</div><div class="toclist0"><a class="toclist" href="VE.html">6  Verse</a>
</div><div class="toclist0"><a class="toclist" href="DR.html">7  Performance Texts</a>
</div><div class="toclist0"><a class="toclist" href="TS.html">8  Transcriptions of Speech</a>
</div><div class="toclist0"><a class="toclist" href="DI.html">9  Print Dictionaries</a>
</div><div class="toclist0"><a class="toclist" href="MS.html">10  Manuscript Description</a>
</div><div class="toclist0"><span class="toclist-this">11  Linking, Segmentation, and Alignment</span>
<div class="toclist1"><a class="toclist" href="SA.html#SAPT">11.1  Links</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SAXP">11.2  Pointing mechanisms</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SASE">11.3  Blocks, Segments and Anchors</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SACS">11.4  Correspondence and Alignment</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SASY">11.5  Synchronization</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SAIE">11.6  Identical Elements and Virtual Copies</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SAAG">11.7  Aggregation</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SAAT">11.8  Alternation</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SASO">11.9  Stand-off Markup</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#SAAN">11.10  Connecting Analytic and Textual Markup</a>
</div><div class="toclist1"><a class="toclist" href="SA.html#body.1_div.11_div.11">11.11  Reference Section</a>
</div></div><div class="toclist0"><a class="toclist" href="AI.html">12  Simple Analytic Mechanisms</a>
</div><div class="toclist0"><a class="toclist" href="FS.html">13  Feature Structures</a>
</div><div class="toclist0"><a class="toclist" href="CE.html">14  Certainty and Responsibility</a>
</div><div class="toclist0"><a class="toclist" href="PH.html">15  Transcription of Primary Sources</a>
</div><div class="toclist0"><a class="toclist" href="TC.html">16  Critical Apparatus</a>
</div><div class="toclist0"><a class="toclist" href="ND.html">17  Names and Dates</a>
</div><div class="toclist0"><a class="toclist" href="GD.html">18  Graphs, Networks, and Trees</a>
</div><div class="toclist0"><a class="toclist" href="FT.html">19  Tables, Formulae, and Graphics</a>
</div><div class="toclist0"><a class="toclist" href="CC.html">20  Language Corpora</a>
</div><div class="toclist0"><a class="toclist" href="WD.html">21  Representation of non-standard characters and glyphs</a>
</div><div class="toclist0"><a class="toclist" href="FD.html">22  Feature System Declaration</a>
</div><div class="toclist0"><a class="toclist" href="TD.html">23  Documentation Elements</a>
</div><div class="toclist0"><a class="toclist" href="USE.html">24  Using The TEI</a>
</div></div></div><div class="tocBack"><div class="tocContainer"><div class="toclist0"><a class="toclist" href="REFCLA.html">Appendix A  Classes</a>
</div><div class="toclist0"><a class="toclist" href="REFTAG.html">Appendix B  Elements</a>
</div><div class="toclist0"><a class="toclist" href="REFENT.html">Appendix C  Macros</a>
</div><div class="toclist0"><a class="toclist" href="BIB.html">Appendix D  Bibliography</a>
</div><div class="toclist0"><a class="toclist" href="PARTIND.html">Appendix E  Index</a>
</div><div class="toclist0"><a class="toclist" href="PREFS.html">Appendix F  Prefatory Notes</a>
</div><div class="toclist0"><a class="toclist" href="COL.html">Appendix G  Colophon</a>
</div></div></div></div></div><div id="rh-col"><a id="rh-column"/><div id="rh-col-top"><!--top of right-hand column--></div><div id="rh-col-bottom"><!--bottom of right-hand column--><h2>11  Linking, Segmentation, and Alignment</h2><div class="p"><span id="id2488159"/>This chapter discusses a number of ways in which encoders may
  represent analyses of the structure of a text which are not
  necessarily linear or hierarchic. The module defined by this chapter
  provides for the following common requirements:
  <ul><li>to <em>link</em> disparate elements 
    using the <span class="att">xml:id</span> attribute (section <a class="link_ptr" href="SA.html#SAPT" title="Links">11.1  Links</a>);</li><li>to link disparate elements without using the
    <span class="att">xml:id</span> attribute (sections <a class="link_ptr" href="SA.html#SAUR" title="Pointing Elsewhere">11.2.1  Pointing Elsewhere</a>, <a class="link_ptr" href="SA.html#SAES" title="W3C element() Scheme">11.2.3  W3C element() Scheme</a>, and <a class="link_ptr" href="SA.html#SATS" title="TEI XPointer Schemes">11.2.4  TEI XPointer Schemes</a>);</li><li>to <em>segment</em> text into elements convenient for
    the encoder and to mark arbitrary points within documents (section
    <a class="link_ptr" href="SA.html#SASE" title="Blocks, Segments and Anchors">11.3  Blocks, Segments and Anchors</a>);</li><li>to represent <em>correspondence</em> or
    <em>alignment</em> among groups of text elements, both those
    with content and those which are empty (section <a class="link_ptr" href="SA.html#SACS" title="Correspondence and Alignment">11.4  Correspondence and Alignment</a>);<a class="notelink" href="#Note82"><sup>82</sup></a></li><li>to <em>synchronize</em> elements of a
    text, that is to represent temporal correspondences and alignments
    among text elements (section <a class="link_ptr" href="SA.html#SASY" title="Synchronization">11.5  Synchronization</a>) and also to
    align them with specific points in time (section <a class="link_ptr" href="SA.html#SASYMP" title="Placing Synchronous Events in Time">11.5.2  Placing Synchronous Events in Time</a>);</li><li>to specify that one text element is <em>identical</em>
    to or a <em>copy</em> of another (section <a class="link_ptr" href="SA.html#SAIE" title="Identical Elements and Virtual Copies">11.6  Identical Elements and Virtual Copies</a>);</li><li>to <em>aggregate</em> possibly noncontinguous elements
    (section <a class="link_ptr" href="SA.html#SAAG" title="Aggregation">11.7  Aggregation</a>);</li><li>to specify that different elements are
    <em>alternatives</em> to one another and to express
    <em>preferences</em> among the alternatives (section <a class="link_ptr" href="SA.html#SAAT" title="Alternation">11.8  Alternation</a>);</li><li>to store markup separately from the the data it describes (section <a class="link_ptr" href="SA.html#SASO" title="Stand-off Markup">11.9  Stand-off Markup</a>);</li><li>to associate segments of a text
    with interpretations or analyses of their significance (section
    <a class="link_ptr" href="SA.html#SAAN" title="Connecting Analytic and Textual Markup">11.10  Connecting Analytic and Textual Markup</a>).</li></ul></div><p><span id="id2488343"/>These facilities all use the same basic set of techniques, which
  are based on the W3C XPointer mechanism, which includes a
  variety of <em>schemes</em>. The most convenient
  technique, and that which is recommended by these Guidelines
  wherever possible, makes use of the global <span class="att">xml:id</span>
  attribute, as defined in section <a class="link_ptr" href="ST.html#STGA" title="Global Attributes">2.3  Global Attributes</a>. For many of
  the topics discussed in this chapter, a choice of methods of
  encoding is offered, ranging from simple but less general ones,
  which use attribute values only, to more elaborate and more general
  ones, which use specialized elements.</p><div class="div2" id="SAPT"><h3>11.1  Links</h3><p><span id="id2488385"/>We say that one element <em>points</em> to
    others if the first has an attribute whose value is a reference to
    the others: such an element is called a <em>pointer
    element</em>, or simply a <em>pointer</em>. Among the
    pointers that have been introduced up to this point in these
    Guidelines are <code>&lt;note&gt;</code>, <code>&lt;ref&gt;</code>, and <code>&lt;ptr&gt;</code>.
    These elements all indicate an association between one place in
    the document (the location of the pointer itself) and one or more
    others (the elements whose identifiers are specified by the
    pointer's <span class="att">target</span> attribute). This element set defines a
    variation on this basic kind of pointer, known as a
    <em>link</em> which specifies both ‘ends’
    of an association. In addition, we define a syntax for
    representing locations in a document by a variety of means not
    dependent on the use of <span class="att">xml:id</span> attributes.</p><div class="div3" id="SAPTL"><h4>11.1.1  Pointers and Links</h4><div class="p"><span id="id2488449"/>In section <a class="link_ptr" href="CO.html#COXR" title="Simple Links and Cross References">4.6  Simple Links and Cross References</a> we introduced the simplest
      pointer elements, <code>&lt;ptr&gt;</code> and <code>&lt;ref&gt;</code>. Here we
      introduce additionally the <code>&lt;link&gt;</code> element, which
      represents an association between two (or more) locations by
      specifying each location explicitly. Its own location is
      irrelevant to the intended linkage.
      <ul class="specList"><li><b>&lt;<a href="ref-ptr.html">ptr</a>&gt;</b> defines a pointer to another location.<table class="attList"><tr><td class="Attribute">target</td><td colspan="2">specifies the destination of the pointer by supplying one or
      more URI References</td></tr></table></li><li><b>&lt;<a href="ref-ref.html">ref</a>&gt;</b> defines a reference to another location, possibly
  modified by additional text or comment.<table class="attList"><tr><td class="Attribute">target</td><td colspan="2">specifies the destination of the reference by supplying one
    or more URI References</td></tr></table></li><li><b>&lt;<a href="ref-link.html">link</a>&gt;</b> defines an association or hypertextual link
among elements or passages, of some type
not more precisely specifiable by other elements.<table class="attList"><tr><td class="Attribute">targets</td><td colspan="2">specifies the identifiers of the elements or passages
    to be linked or associated.
 </td></tr></table></li></ul>
      The <code>&lt;ptr&gt;</code> element may be called a ‘pure
      pointer’, because its primary function is simply to
      point. A pointer sets up a <em>connection</em>
      between an element (which, in
      the case of a pure pointer, can be thought of simply as a
      location in a document), and one or more others, known
      collectively as its <em>target</em>. The <code>&lt;ptr&gt;</code> and
      <code>&lt;ref&gt;</code> elements bear a <span class="att">target</span> attribute (in the
      singular), because they point, conceptually, at a single target,
      even if that target may be discontinuous in the document. The
      <code>&lt;link&gt;</code> element bears a <span class="att">targets</span> attribute, with
      a plural name, because it specifies at least two targets, each
      of which is a unitary object. It may be thought of as a
      representing a <em>double link</em> between the objects
      specified.</div><div class="p"><span id="id2488545"/>As members of the class <span class="ident-class">att.pointing</span>,
      these elements share a common set of attributes:
      <ul class="specList"><li><b><a href="ref-att.pointing.html">att.pointing</a></b> defines a set of attributes used by all elements which point
  to other elements by means of one or more URI references.<table class="attList"><tr><td class="Attribute">type</td><td colspan="2">categorizes the pointer in some respect, using any
      convenient set of categories.</td></tr><tr><td class="Attribute">evaluate</td><td colspan="2">specifies the intended meaning when the target of a
      pointer is itself a pointer.</td></tr></table></li></ul></div><div class="p"><span id="id2488565"/>Double connection among elements could also be expressed by a
      combination of pointer elements, for example, two <code>&lt;ptr&gt;</code>
      elements, or one <code>&lt;ptr&gt;</code> element and one <code>&lt;note&gt;</code>
      element. All that is required is that the value of the
      <span class="att">target</span> (or other pointing) attribute of the one be
      the value of the <span class="att">xml:id</span> attribute of the other. What
      the <code>&lt;link&gt;</code> element accomplishes is the handling of double
      connection by means of a single element. Thus, in the following
      encoding:
      <div class="pre"> <span class="element">&lt;ptr <span class="attribute">xml:id</span>="sa-p1" <span class="attribute">target</span>="#sa-p2"/&gt;</span><br/> <span class="element">&lt;ptr <span class="attribute">xml:id</span>="sa-p2" <span class="attribute">target</span>="#sa-p1"/&gt;</span></div><span class="val">sa-p1</span> points to <span class="val">sa-p2</span>, and <span class="val">sa-p2</span>
      points to <span class="val">sa-p1</span>. This is logically
      equivalent to the more compact encoding:
      <div class="pre"> <span class="element">&lt;link <span class="attribute">targets</span>="#sa-p1 #sa-p2"/&gt;</span></div></div><p><span id="id2488628"/>As noted above, elements pointed to or linked by this simple
      method must be identifiable using the global <span class="att">xml:id</span>
      attribute. This implies that they must be present in the same
      document, and that they must bear unique <span class="att">xml:id</span>
      values. Pointing or linking to external documents and pointing
      or linking where identifiers are not available is implemented by
      more complete forms of URI references, as described below in
      section <a class="link_ptr" href="SA.html#SAXP" title="Pointing mechanisms">11.2  Pointing mechanisms</a>.</p></div><div class="div3" id="SAPTEG"><h4>11.1.2  Using Pointers and Links</h4><div class="p"><span id="id2488660"/>As an example of the use of these mechanisms which establish
      connections among elements, consider the practice (common in
      18th century English verse and elsewhere) of providing footnotes
      citing parallel passages from classical authors. <div class="float fullpage" id="POPE"><img src="./dunpic.png" alt="The&#10;      figure shows the original page of Pope's "/></div> Such
      footnotes can of course simply be encoded using the
      <code>&lt;note&gt;</code> element (see section <a class="link_ptr" href="CO.html#CONO" title="Notes, Annotation, and Indexing">4.8  Notes, Annotation, and Indexing</a>) without
      a <span class="att">target</span> attribute, placed adjacent to the passage to
      which the note refers:<a class="notelink" href="#Note83"><sup>83</sup></a><div class="pre"> <span class="element">&lt;l&gt;</span>(Diff'rent our parties, but with equal grace<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span>The Goddess smiles on Whig and Tory race,<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span><br/>  <span class="element">&lt;note <span class="attribute">type</span>="imitation" <span class="attribute">place</span>="foot" <span class="attribute">anchored</span>="false"&gt;</span><br/>   <span class="element">&lt;bibl&gt;</span>Virg. Æn. 10.<span class="element">&lt;/bibl&gt;</span><br/>   <span class="element">&lt;quote&gt;</span><br/>    <span class="element">&lt;l&gt;</span>Tros Rutulusve fuat; nullo discrimine habebo.<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>—— Rex Jupiter omnibus idem.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/quote&gt;</span><br/>  <span class="element">&lt;/note&gt;</span>'Tis the same rope at sev'ral ends they twist,<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span>To Dulness, Ridpath is as dear as Mist)<span class="element">&lt;/l&gt;</span></div></div><p><span id="id2488773"/>This use of the <code>&lt;note&gt;</code> element can be called
      <em>implicit pointing</em> (or <em>implicit
      linking</em>). It relies on the juxtaposition of the note to
      the text being commented on for the connection to be understood.
      If it is felt that the mere juxtaposition of the note to the
      text does not make it sufficiently clear exactly what text
      segment is being commented on (for example, is it the
      immediately preceding line, or the immediately preceding two
      lines, or what?), or if it is decided to place the note at some
      distance from the text, then the pointing or the linking must be
      made explicit. We now consider various methods for doing
      that.</p><div class="p"><span id="id2488796"/>Firstly, a <code>&lt;ptr&gt;</code> element might be placed at an
      appropriate point within the text to link it with the
      annotation:
      <div class="pre"> <span class="element">&lt;l&gt;</span>(Diff'rent our parties, but with equal grace<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span>The Goddess smiles on Whig and Tory race,
   <span class="element">&lt;ptr <span class="attribute">rend</span>="unmarked" <span class="attribute">target</span>="#note3.284"/&gt;</span><br/> <span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span>'Tis the same rope at sev'ral ends they twist,<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l&gt;</span>To Dulness, Ridpath is as dear as Mist)<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;note<br/>   <span class="attribute">xml:id</span>="note3.284"<br/>   <span class="attribute">type</span>="imitation"<br/>   <span class="attribute">place</span>="foot"<br/>   <span class="attribute">anchored</span>="false"&gt;</span><br/>  <span class="element">&lt;bibl&gt;</span>Virg. Æn. 10.<span class="element">&lt;/bibl&gt;</span><br/>  <span class="element">&lt;quote&gt;</span><br/>   <span class="element">&lt;l&gt;</span>Tros Rutulusve fuat; nullo discrimine habebo.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;l&gt;</span>—— Rex Jupiter omnibus idem.<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;/quote&gt;</span><br/> <span class="element">&lt;/note&gt;</span></div>
      The <code>&lt;note&gt;</code> element has been given an arbitrary identifier
      (<span class="val">note3.284</span>) to enable it to be specified
      as the target of the pointer element. Because there is nothing
      in the text to signal the existence of the annotation, the
      <span class="att">rend</span> attribute has been given the value <span class="val">unmarked</span>.</div><div class="p"><span id="id2488875"/>Secondly, the <span class="att">target</span> attribute of the
      <code>&lt;note&gt;</code> element can be used to point at its associated
      text, provided that an <span class="att">xml:id</span> attribute has been
      supplied for the associated text:
      <div class="pre"> <span class="element">&lt;l <span class="attribute">xml:id</span>="l3.283"&gt;</span>(Diff'rent our parties, but with equal grace<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l <span class="attribute">xml:id</span>="l3.284"&gt;</span>The Goddess smiles on Whig and Tory race,<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l <span class="attribute">xml:id</span>="l3.285"&gt;</span>'Tis the same rope at sev'ral ends they twist,<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l <span class="attribute">xml:id</span>="l3.286"&gt;</span>To Dulness, Ridpath is as dear as Mist)<span class="element">&lt;/l&gt;</span><br/>&lt;!-- ... --&gt;</div>
Given this encoding of the text itself, we can now link the various
notes to it. In this case, the note
      itself contains a pointer to the place in the text which it is
      annotating, this could be encoded using a <code>&lt;ref&gt;</code>
      element, which bears a <span class="att">target</span> attribute of its own
      and contains a (slightly misquoted) extract from the text marked
      as a <code>&lt;quote&gt;</code> element:
      <div class="pre"> <span class="element">&lt;note<br/>   <span class="attribute">type</span>="imitation"<br/>   <span class="attribute">place</span>="foot"<br/>   <span class="attribute">anchored</span>="false"<br/>   <span class="attribute">target</span>="#l3.284"&gt;</span><br/>  <span class="element">&lt;ref <span class="attribute">rend</span>="sc" <span class="attribute">target</span>="#l3.284"&gt;</span>Verse 283–84.
       <span class="element">&lt;quote&gt;</span><br/>    <span class="element">&lt;l&gt;</span>——. With equal grace<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>Our Goddess smiles on Whig and Tory race.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/quote&gt;</span><br/>  <span class="element">&lt;/ref&gt;</span><br/>  <span class="element">&lt;bibl&gt;</span>Virg. Æn. 10.<span class="element">&lt;/bibl&gt;</span><br/>  <span class="element">&lt;quote&gt;</span><br/>   <span class="element">&lt;l&gt;</span>Tros Rutulusve fuat; nullo discrimine habebo.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;l&gt;</span>—— Rex Jupiter omnibus idem. <span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;/quote&gt;</span><br/> <span class="element">&lt;/note&gt;</span></div></div><div class="p"><span id="id2488984"/>Combining these two approaches gives us the following
      associations:
      <ul><li>a pointer within one line indicates the note</li><li>the note indicates the line</li><li>a pointer within the note indicates the line</li></ul>
      Note that we do not have any way of pointing from the line
      itself to the note: the association is implied by containment of
      the pointer. We do not as yet have a true double link between
      text and note. To achieve that we will need to supply identifiers for
      the annotations as well as for the verse lines, and use a <code>&lt;link&gt;</code> element to associate the
      two. Note that the <code>&lt;ptr&gt;</code> element and the
      <span class="att">target</span> attribute on the <code>&lt;note&gt;</code> may now be
      dispensed with:
      <div class="pre"> <span class="element">&lt;note<br/>   <span class="attribute">xml:id</span>="n3.284"<br/>   <span class="attribute">type</span>="imitation"<br/>   <span class="attribute">place</span>="foot"<br/>   <span class="attribute">anchored</span>="false"&gt;</span><br/>  <span class="element">&lt;ref <span class="attribute">rend</span>="sc" <span class="attribute">target</span>="#l3.284"&gt;</span>Verse 283–84.
      <span class="element">&lt;quote&gt;</span><br/>    <span class="element">&lt;l&gt;</span>——. With equal grace<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>Our Goddess smiles on Whig and Tory race.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/quote&gt;</span><br/>  <span class="element">&lt;/ref&gt;</span><br/>  <span class="element">&lt;bibl&gt;</span>Virg. Æn. 10.<span class="element">&lt;/bibl&gt;</span><br/>  <span class="element">&lt;quote&gt;</span><br/>   <span class="element">&lt;l&gt;</span>Tros Rutulusve fuat; nullo discrimine habebo.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;l&gt;</span>—— Rex Jupiter omnibus idem. <span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;/quote&gt;</span><br/> <span class="element">&lt;/note&gt;</span><br/> <span class="element">&lt;link <span class="attribute">targets</span>="#n3.284 #l3.284"/&gt;</span></div></div><div class="p"><span id="id2489079"/>The <span class="att">targets</span> attribute of the <code>&lt;link&gt;</code> element
      here bears the identifiers of the note followed by that of the
      verse line. For completeness, we could also allocate an
      identifier to the reference within the note and encode the
      association between it and the verse line in the same way:
      <div class="pre"> <span class="element">&lt;note<br/>   <span class="attribute">xml:id</span>="nt3.284"<br/>   <span class="attribute">type</span>="imitation"<br/>   <span class="attribute">place</span>="foot"<br/>   <span class="attribute">anchored</span>="false"&gt;</span><br/>  <span class="element">&lt;ref <span class="attribute">rend</span>="sc" <span class="attribute">xml:id</span>="r3.284" <span class="attribute">target</span>="#l3.284"&gt;</span>Verse 283–84.
      <span class="element">&lt;quote&gt;</span><br/>    <span class="element">&lt;l&gt;</span>——. With equal grace<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>Our Goddess smiles on Whig and Tory race.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/quote&gt;</span><br/>  <span class="element">&lt;/ref&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/note&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;link <span class="attribute">targets</span>="#r3.284 #l3.284"/&gt;</span></div>
      Indeed, the two <code>&lt;link&gt;</code>s could be combined into one, as
      follows:
      <div class="pre"> <span class="element">&lt;link <span class="attribute">targets</span>="#n3.284 #r3.284 #l3.284"/&gt;</span></div></div></div><div class="div3" id="SAPTLG"><h4>11.1.3  Groups of Links</h4><div class="p"><span id="id2489156"/>Clearly, there are many reasons for which an encoder might
      wish to represent a link or association between different
      elements. For some of them, specific elements are provided in
      these Guidelines; some of these are discussed elsewhere in the
      present chapter. The <code>&lt;link&gt;</code> element is a general purpose
      element which may be used for any kind of association. The
      element <code>&lt;linkGrp&gt;</code> may be used to group links of a
      particular type together in a single part of the document; such
      a collection may be used to represent what is sometimes referred
      to in the literature of Hypertext as a <em>web</em>, a term
      introduced by the Brown University FRESS project in 1969.
      <ul class="specList"><li><b>&lt;<a href="ref-linkGrp.html">linkGrp</a>&gt;</b> defines a collection of associations or hypertextual links.</li></ul>
      As a member of the class <span class="ident-class">att.pointing.group</span>, this element shares the
      following attributes with other members of that class:
      <ul class="specList"><li><b><a href="ref-att.pointing.group.html">att.pointing.group</a></b> defines a set of attributes common to all elements which
  enclose groups of pointer elements.<table class="attList"><tr><td class="Attribute">domains</td><td colspan="2">optionally specifies the identifiers of the elements
      within which all elements indicated by the contents of this
      element lie.</td></tr><tr><td class="Attribute">targFunc</td><td colspan="2">describes the function of each of the values of the
      targets attribute of the enclosed link,
      join or alt tags.</td></tr></table></li></ul>
      It is also a member of the <span class="ident-class">att.pointing</span>
      class, and therefore also carries the attributes specified in
      section <a class="link_ptr" href="SA.html#SAPTL" title="Pointers and Links">11.1.1  Pointers and Links</a> above, in particular the
      <span class="att">type</span> attribute:
      <ul class="specList"><li><b><a href="ref-att.pointing.html">att.pointing</a></b> defines a set of attributes used by all elements which point
  to other elements by means of one or more URI references.<table class="attList"><tr><td class="Attribute">type</td><td colspan="2">categorizes the pointer in some respect, using any
      convenient set of categories.</td></tr></table></li></ul></div><p><span id="id2489222"/>The <code>&lt;linkGrp&gt;</code> element provides a convenient way of
      establishing a default for the <span class="att">type</span> attribute on a
      group of links of the same type: by default, the <span class="att">type</span>
      attribute on a <code>&lt;link&gt;</code> element has the same value as that
      given for <span class="att">type</span> on the enclosing <code>&lt;linkGrp&gt;</code>.</p><div class="p"><span id="id2489248"/>Typical software might hide a web entirely from the user, but
      use it as a source of information about links, which are
      displayed independently at their referenced locations.
      Alternatively, software might provide a direct view of the link
      collection, along with added functions for manipulating the
      collection, as by filtering, sorting, and so on.
      To continue our previous example, this text contains many other
      notes of a kind similar to the one shown above. Here are a few
      more of the lines to which annotations have to be attached,
      followed by the annotations themselves:
      <div class="pre"> <span class="element">&lt;l <span class="attribute">xml:id</span>="l2.79"&gt;</span>A place there is, betwixt earth, air and seas<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;l <span class="attribute">xml:id</span>="l2.80"&gt;</span>Where from Ambrosia, Jove retires for ease.<span class="element">&lt;/l&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;l <span class="attribute">xml:id</span>="l2.88"&gt;</span>Sign'd with that Ichor which from Gods distills.<span class="element">&lt;/l&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;note <span class="attribute">xml:id</span>="n2.79" <span class="attribute">place</span>="foot" <span class="attribute">anchored</span>="false"&gt;</span><br/>  <span class="element">&lt;bibl&gt;</span>Ovid Met. 12.<span class="element">&lt;/bibl&gt;</span><br/>  <span class="element">&lt;quote <span class="attribute">xml:lang</span>="la"&gt;</span><br/>   <span class="element">&lt;l&gt;</span>Orbe locus media est, inter terrasq; fretumq;<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;l&gt;</span>Cœlestesq; plagas —<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;/quote&gt;</span><br/> <span class="element">&lt;/note&gt;</span><br/> <span class="element">&lt;note <span class="attribute">xml:id</span>="n2.88" <span class="attribute">place</span>="foot" <span class="attribute">anchored</span>="false"&gt;</span>
    Alludes to <span class="element">&lt;bibl&gt;</span>Homer, Iliad 5<span class="element">&lt;/bibl&gt;</span> ...<br/> <span class="element">&lt;/note&gt;</span></div>
To avoid having
      to repeat the specification of <span class="att">type</span> as <span class="val">imitation</span> on each <code>&lt;note&gt;</code>,
      we may specify it once for all on a <code>&lt;linkGrp&gt;</code> element
      containing all links of this type.
      <div class="pre"> <span class="element">&lt;linkGrp <span class="attribute">type</span>="imitation"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.79 #l2.79"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.88 #l2.88"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n3.284 #l3.284"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2489361"/>Additional information for applications that use
      <code>&lt;linkGrp&gt;</code> elements can be provided by means of special
      attributes. First, the <span class="att">domains</span> attribute can be used
      to identify the text elements within which the individual
      targets of the links are to be found. Suppose that the text
      under discussion is organized into a <code>&lt;body&gt;</code> element,
      containing the text of the poem, and a <code>&lt;back&gt;</code> element
      containing the notes. Then the <span class="att">domains</span> attribute can
      have as its value the identifiers of the <code>&lt;body&gt;</code> and the
      <code>&lt;back&gt;</code>, to enable an application to verify that the link
      targets are in fact contained by appropriate elements, or to
      limit its search space:
      <div class="pre"><br/>&lt;!-- ... --&gt; <span class="element">&lt;linkGrp <span class="attribute">type</span>="imitation" <span class="attribute">domains</span>="dunciad dunnotes"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.79 #l2.79"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.88 #l2.88"/&gt;</span><br/>&lt;!-- ... --&gt;<br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n3.284 #l3.284"/&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><p><span id="id2489427"/>Note that there must be a single parent element for each
      ‘domain’; if some notes are contained by a
      section with identifier <span class="val">dunnotes</span>, and
      others by a section with identifier <span class="val">dunimits</span>,
      an intermediate pointer must be
      provided (as described in section <a class="link_ptr" href="SA.html#SAPTIP" title="Intermediate Pointers">11.1.4  Intermediate Pointers</a>) within
      the <code>&lt;linkGrp&gt;</code> and its identifier used instead.</p><div class="p"><span id="id2489453"/>Next, the <span class="att">targFunc</span> attribute can be used to
      provide further information about the role or function of the
      various targets specified for each link in the group. The value
      of the <span class="att">targFunc</span> attribute is a list of names
      (formally, name tokens), one for each of the targets in the
      link; these names can be chosen freely by the encoder, but their
      significance should be documented in the encoding declaration in
      the header.<a class="notelink" href="#Note84"><sup>84</sup></a> In the current
      example, we might think of the note as containing the <em>source</em> of the imitation and the verse line
      as containing the <em>goal</em> of the
      imitation. Accordingly, we can specify the <code>&lt;linkGrp&gt;</code> in
      the preceding example thus:
      <div class="pre"> <span class="element">&lt;linkGrp <span class="attribute">type</span>="imitation" <span class="attribute">domains</span>="dunciad dunnotes" <span class="attribute">targFunc</span>="source goal"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.79 #l2.79"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n2.88 #l2.88"/&gt;</span><br/>&lt;!-- ... --&gt;<br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#n3.284 #l3.284"/&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2489531"/>The <code>&lt;link&gt;</code> and <code>&lt;linkGrp&gt;</code> elements are formally
      defined as follows:
      <div class="specgrp"><span id="DSAPT"/><b>Specification group 107: Links</b><dl><dt>Element link</dt><dd><pre class="eg">
link = element link { link.content, link.attributes }

link.content = empty

link.attributes =
   att.pointing.attributes,
   attribute targets { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>, <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } }</pre></dd><dt>Element linkGrp</dt><dd><pre class="eg">
linkGrp = element linkGrp { linkGrp.content, linkGrp.attributes }

linkGrp.content = ( <a class="link_odd" href="ref-link.html">link</a> | <a class="link_odd" href="ref-ptr.html">ptr</a> )+

linkGrp.attributes = att.pointing.group.attributes</pre></dd></dl></div></div></div><div class="div3" id="SAPTIP"><h4>11.1.4  Intermediate Pointers</h4><p><span id="id2489810"/>In the preceding examples, we have shown various ways of
      linking an annotation and a single verse line. However, the
      example cited in fact requires us to encode an association
      between the note and a <em>pair</em> of verse lines (lines
      284 and 285).</p><p><span id="id2489820"/>There are a number of possible ways of correcting this error:
      one could use the <span class="att">target</span> and <span class="att">targetEnd</span>
      attributes of the <code>&lt;note&gt;</code> element to delimit the span to
      which the note applies (see further section <a class="link_ptr" href="CO.html#CONO" title="Notes, Annotation, and Indexing">4.8  Notes, Annotation, and Indexing</a>). Alternatively one could create an element to
      encode the couplet itself and assign it an <span class="att">xml:id</span>
      attribute, which can then be linked to the <code>&lt;note&gt;</code> and
      <code>&lt;ref&gt;</code> elements. This could be done either explicitly by
      means of an <code>&lt;lg&gt;</code> element, as defined in section <a class="link_ptr" href="CO.html#COVE" title="Core Tags for Verse">4.12.1  Core Tags for Verse</a> or implicitly, by means of the
      <code>&lt;join&gt;</code> element discussed in section <a class="link_ptr" href="SA.html#SAAG" title="Aggregation">11.7  Aggregation</a>.</p><div class="p"><span id="id2489875"/>A third possibility however, is to use an
      ‘intermediate pointer’ as follows:
      <div class="pre"> <span class="element">&lt;ptr <span class="attribute">xml:id</span>="l3.283-284" <span class="attribute">target</span>="#l3.283 #l3.284"/&gt;</span></div>
      When the <span class="att">target</span> attribute of a <code>&lt;ptr&gt;</code> or
      <code>&lt;ref&gt;</code> element specifies more than one element, the
      indicated elements are intended to be combined or aggregated in
      some way to produce the object of the pointer. (Such aggregation
      is however the task of a processing application, and cannot be
      defined simply by the mark-up). The <span class="att">xml:id</span> attribute
      provides an identifier which can then be linked to the
      <code>&lt;note&gt;</code> and <code>&lt;ref&gt;</code> elements:
<div class="pre"> <span class="element">&lt;link <span class="attribute">evaluate</span>="all" <span class="attribute">targets</span>="#n3.284 #r3.284 #l3.283284"/&gt;</span></div></div><p><span id="id2489927"/>The <span class="val">all</span> value of <span class="att">evaluate</span> is used on the
      <code>&lt;link&gt;</code> element to specify that any pointer encountered as
      a target of that element is itself evaluated. If
      <span class="att">evaluate</span> had the value <span class="val">none</span>, the link target would be the pointer
      itself, rather than the objects it points to.</p><p><span id="id2489950"/>Where a <code>&lt;linkGrp&gt;</code> element is used to group a
      collection of <code>&lt;link&gt;</code> elements, any intermediate pointer
      elements used by those <code>&lt;link&gt;</code> elements should be included
      within the <code>&lt;linkGrp&gt;</code>.</p></div></div><div class="div2" id="SAXP"><h3>11.2  Pointing mechanisms</h3><div class="p"><span id="id2489980"/>This section introduces more formally the pointing mechanisms
    available in the TEI. In addition to those
    discussed so far, the TEI provides methods of pointing:
    <ul><li>into documents other than the current document;</li><li>to a particular element in a document other than the
      current document using its <span class="att">xml:id</span>;</li><li>to a particular element whether in the current document or
      not, using its position in the XML element tree;</li><li>at arbitrary content in any XML document using TEI-defined
      XPointer schemes.</li></ul></div><p><span id="id2490012"/>All TEI attributes used to point at something else are declared
    as having the datatype <strong>att.pointer</strong>, which is
    defined as a URI reference<a class="notelink" href="#Note85"><sup>85</sup></a>;
    the cases so far discussed are all simple examples of a URI
    reference. Another familiar example is the mechanism used in  HTML to create
    represent hypertext links by means of the <span class="att">href</span>
    attribute. A URI reference can reference
a single XML resource such as a document or an XML element, but also a
    sub-portion of it  identified by means of an
    appropriate <em>fragment identifier</em>. Technically
    speaking, the
    ‘fragment identifier’ is that portion of a URI
    reference following the first unescaped ‘#’ character; in
    practice, it provides a means of accessing some part of the
    resource described by the URI which is less than the whole.  </p><p><span id="id2490059"/>The first three of the following subsections provide only a
    brief overview and some examples of the W3C mechanisms
    recommended. More detailed information on the use of these
    mechanisms is readily available elsewhere.</p><div class="div3" id="SAUR"><h4>11.2.1  Pointing Elsewhere</h4><p><span id="id2490077"/>Like the ubiquitous if misnamed HTML pointing attribute <span class="att">href</span>, the TEI pointing attributes can point
      to a document that is not the current document (the one that
      contains the pointing element) whether it is in the same local
      filesystem as the current document, or on a different system
      entirely. In either case, the pointing can be accomplished
      absolutely (using the entire address of the target document) or
      relatively (using an address relative to the current base URI in
      force). The ‘current base URI’ is defined
      according to the W3C <a class="link_ref" href="http://www.w3.org/TR/xmlbase/" title="XML Base">XML Base</a>
      recommendation.  In
      general the current base URI in force is the value of the
      <span class="att">xml:base</span> attribute of the closest ancestor that has one. If
      there is none, the base URI is that of the current document.
</p><div class="p"><span id="id2490118"/>The following example demonstrates an absolute URI reference
      that points to a remote document: <div class="pre">The current base URI in force is as defined in the
 W3C  <span class="element">&lt;ref <span class="attribute">target</span>="http://www.w3.org/TR/xmlbase/"&gt;</span>XML
 Base<span class="element">&lt;/ref&gt;</span> recommendation.</div></div><div class="p"><span id="id2490144"/>This example points explicitly to a location on the Web,
      accessible via HTTP, the web Protocol. Suppose however that wish
      to access a document stored locally in a file. Again we will
      supply an absolute URI reference, but this time using a
      different protocol:
      <div class="pre">This Debian package is distributed under the terms
 of the  <span class="element">&lt;ref<br/>   <span class="attribute">target</span>="file:///usr/share/common-licenses/GPL-2"&gt;</span>GNU General Public License<span class="element">&lt;/ref&gt;</span>.</div></div><div class="p"><span id="id2490162"/>In the  following example, we use a relative URI reference
      to point to a local document: <div class="pre"> <span class="element">&lt;figure <span class="attribute">rend</span>="float fullpage"&gt;</span><br/>  <span class="element">&lt;graphic <span class="attribute">url</span>="Figures/compic.png"/&gt;</span><br/>  <span class="element">&lt;figDesc&gt;</span>The figure shows the page from the <span class="element">&lt;title&gt;</span>Orbis
  pictus<span class="element">&lt;/title&gt;</span> of Comenius which is discussed in the text.<span class="element">&lt;/figDesc&gt;</span><br/> <span class="element">&lt;/figure&gt;</span></div> 

Since no xml:base is specified here, the location of the resource
<strong>Figures/compic.png</strong> is determined relative to the
resource indicated by the current base URI, which is the current
document.
</div><div class="p"><span id="id2490196"/>In the following example, however, we first change the current base
      URI by setting a new value for xml:base. The resource required
      is then identified by means of a relative URI:
      <div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="chap" <span class="attribute">xml:base</span>="http://classics.mit.edu/"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>On Ancient Persian Manners<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;p&gt;</span>In the very first story of <span class="element">&lt;ref <span class="attribute">target</span>="Sadi/gulistan.2.i.html"&gt;</span><br/>    <span class="element">&lt;title&gt;</span>The Gulistan of Sa'di<span class="element">&lt;/title&gt;</span><br/>   <span class="element">&lt;/ref&gt;</span>,<br/>    Sa'di relates moral advice worthy of Miss Minners ...<span class="element">&lt;/p&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2490227"/>As noted above, the current base URI is found on the nearest
ancestor. This provides a useful way of abbreviating URIs within a
given scope
      <div class="pre"> <span class="element">&lt;body&gt;</span><br/>  <span class="element">&lt;div <span class="attribute">n</span>="A"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>The base URI here is  the current document. A URI such as
<span class="element">&lt;code&gt;</span>a.xml<span class="element">&lt;/code&gt;</span>  is equivalent to <span class="element">&lt;code&gt;</span>./a.xml<span class="element">&lt;/code&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/div&gt;</span><br/>  <span class="element">&lt;div <span class="attribute">n</span>="B" <span class="attribute">xml:base</span>="http://a.b.org/"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>The base URI here is  <span class="element">&lt;code&gt;</span>http://a.b.org<span class="element">&lt;/code&gt;</span>. A URI such as <br/>   <span class="element">&lt;code&gt;</span>a.xml<span class="element">&lt;/code&gt;</span>  is equivalent to <span class="element">&lt;code&gt;</span>http://a.b.org/a.xml<span class="element">&lt;/code&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/div&gt;</span><br/>  <span class="element">&lt;div <span class="attribute">n</span>="C" <span class="attribute">xml:base</span>="http://c.d.org/"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>The base URI here is  <span class="element">&lt;code&gt;</span>http://c.d.org<span class="element">&lt;/code&gt;</span>. A URI such as <br/>   <span class="element">&lt;code&gt;</span>a.xml<span class="element">&lt;/code&gt;</span>  is equivalent to <span class="element">&lt;code&gt;</span>http://c.d.org/a.xml<span class="element">&lt;/code&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/div&gt;</span><br/>  <span class="element">&lt;div <span class="attribute">n</span>="D"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>The base URI here is  the current document. A URI such as
<span class="element">&lt;code&gt;</span>a.xml<span class="element">&lt;/code&gt;</span>  is equivalent to <span class="element">&lt;code&gt;</span>./a.xml<span class="element">&lt;/code&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;/body&gt;</span></div></div></div><div class="div3" id="SABN"><h4>11.2.2  Pointing Locally</h4><div class="p"><span id="id2490316"/>Because the default base URI is the current document, a
      pointer that is specified as a <em>bare name</em> fragment
      identifier alone acts as a pointer to an element in the current
      document, as in the following example.
      <div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="section" <span class="attribute">n</span>="107" <span class="attribute">xml:id</span>="sect107"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>Limitations on exclusive rights: Fair use<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;p&gt;</span>Notwithstanding the provisions of
  <span class="element">&lt;ref <span class="attribute">target</span>="#sect106"&gt;</span>sections 106<span class="element">&lt;/ref&gt;</span> and<br/>    <span class="element">&lt;ref <span class="attribute">target</span>="#sect106a"&gt;</span>106A,<span class="element">&lt;/ref&gt;</span> the fair use of a<br/>    copyrighted work, including such use by reproduction in copies <br/>    or phonorecords or by any other means specified by that section,<br/>    for purposes such as criticism, comment, news reporting,<br/>    teaching (including multiple copies for classroom use),<br/>    scholarship, or research, is not an infringement of copyright.<br/>    In determining whether the use made of a work in any particular<br/>    case is a fair use the factors to be considered shall<br/>    include — <br/>    <span class="element">&lt;list&gt;</span><br/>    <span class="element">&lt;item <span class="attribute">n</span>="(1)"&gt;</span>the purpose and character of the use, including
    whether such use is of a commercial nature or is for nonprofit
    educational purposes;<span class="element">&lt;/item&gt;</span><br/>    <span class="element">&lt;item <span class="attribute">n</span>="(2)"&gt;</span>the nature of the copyrighted work;<span class="element">&lt;/item&gt;</span><br/>    <span class="element">&lt;item <span class="attribute">n</span>="(3)"&gt;</span>the amount and substantiality of the portion
    used in relation to the copyrighted work as a whole;
    and<span class="element">&lt;/item&gt;</span><br/>    <span class="element">&lt;item <span class="attribute">n</span>="(4)"&gt;</span>the effect of the use upon the potential market
    for or value of the copyrighted work.<span class="element">&lt;/item&gt;</span><br/>   <span class="element">&lt;/list&gt;</span><br/>    The fact that a work is unpublished shall not itself bar a<br/>    finding of fair use if such finding is made upon consideration<br/>    of all the above factors.<span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div><a class="notelink" href="#Note86"><sup>86</sup></a>
This method of pointing, by referring to the <span class="att">xml:id</span> of the
target element as a bare name only (e.g., <span class="val">#there</span>) is 
the simplest and often the best approach where it can be applied, i.e. where
both the source element and target element are in the same XML
      document, and where the target element carries an identifier. It
      is the method used extensively in previous sections of this
      chapter and elsewhere in these Guidelines. </div></div><div class="div3" id="SAES"><h4>11.2.3  W3C element() Scheme</h4><p><span id="id2490446"/>If elements are not directly addressable by means of an
      identifier, they may still  be pointed to by means of their position in the XML
      element tree. This method of pointing uses the element
      scheme defined by the World Wide Web Consortium.<a class="notelink" href="#Note87"><sup>87</sup></a> In this scheme, an element may be identified by
      stepwise navigation  using a slash-separated list of child element
      numbers. For each step the integer <tt>n</tt> locates the
      <strong>n</strong>th child element of the previously located
      element. Thus a pointer such as <tt>&lt;ptr
      target="foo.xml#element(1/4)"/&gt;</tt> indicates the fourth
      child element starting from the root element of the document
      indicated by the URI <strong>foo.xml</strong>.   </p><div class="p"><span id="id2490491"/>For example, the following pointer selects
      one of Shakespeare's most famous lines:
      <div class="pre"> <span class="element">&lt;ref<br/>   <span class="attribute">target</span>="http://www.cs.mu.oz.au/621/2003project/hamlet.xml#element(/1/8/2/25/2)"&gt;</span>2B|^2B…<span class="element">&lt;/ref&gt;</span></div>
      The  URI  in this example references an XML resource assumed to be
      available via the HTTP protocol on the web; within
      that file, the specified element
      scheme is used to select  ‘the first (root-level)  element's 8th
      child element's 2nd child element's 25th child element's 2nd
      child element’. This is equivalent to the XPath
      specification <tt>/*[1]/*[8]/*[2]/*[25]/*[2]</tt>.</div><div class="p"><span id="id2490532"/>Rather than specifying a full path starting from the document
      root, it is also possible in this pointer scheme to specify as
      starting point any element which carries a value for its
      <span class="att">xml:id</span> attribute, supplying a unique identifier for
      it.  In this case the identifier is prefixed to the location
      path. For example, we can point more economically to the same
      line of Hamlet in a different digital version of the play which
      provides identifiers for the individual scenes: <div class="pre"> <span class="element">&lt;div<br/>   <span class="attribute">xml:base</span>="/Users/martin/Documents/c5/namelessShakespeare.xml"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;ptr <span class="attribute">target</span>="#element(sha-ham301/22/2)"/&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div> Here the
      identifier <span class="val">sha-ham301</span> is the identifier for the
      <code>&lt;div&gt;</code> element containing Act III, Scene I of Hamlet. The
      second child of the 22nd child of this <code>&lt;div&gt;</code> element
      contains the desired <code>&lt;l&gt;</code> element. This is equivalent to
      the XPath specfication
      <tt>id(sha-ham301)/*[22]/*[2]</tt>.</div><p><span id="id2490579"/>As noted above, we could also point directly to this line if it had an
identifier of its own. In another digital edition of Shakespeare,
based on the first folio, each
line is given an identifier based on its ‘through line
number’. Our pointer to this line can now be represented
simply as <code>&lt;ptr target="#element(Ham01245)"/&gt;</code>, or even more
simply as <code>&lt;ptr target="#Ham01245"/&gt;</code>. The notation <code>&lt;ptr
target="#xxx"/&gt;</code> is a convenient abbreviation for  <code>&lt;ptr
target="#element(xxx)"/&gt;</code>. This method requires, of course, that
the through line number is supplied as the value of an
<span class="att">xml:id</span> attribute on each line, and must therefore be unique
within each document. In
section <a class="link_ptr" href="SA.html#SACR" title="Canonical References">11.2.5  Canonical References</a> we discuss a method of pointing to the
line which does not have this requirement.  </p></div><div class="div3" id="SATS"><h4>11.2.4  TEI XPointer Schemes</h4><p><span id="id2490627"/>The pointing scheme described in this chapter is one of a
      number of such schemes envisaged by the W3C, which together
      constitute a framework for addressing data within XML documents,
      known as the <a class="link_ref" href="http://www.w3.org/TR/xptr-framework/" title="XPointer Framework">XPointer
      Framework</a>. This framework permits the definition of many
      other named addressing methods, each of which is known as an
      <em>XPointer Scheme</em>. The W3C has pre-defined a set of
      such schemes, and maintains a register for their expansion. The
      element scheme described above is
      one such scheme, defined by the W3C, and widely implemented  by
      XML processing systems.</p><p><span id="id2490654"/>Another important scheme, also defined by the W3C, and recommended
by these Guidelines is the xpath1 pointer
scheme, which allows for any part of an XML structure to be selected
using the syntax defined by the Xpath specification. This is further
discussed below, <a class="link_ptr" href="SA.html#SATSXP" title="xpath1(path)">11.2.4.2  xpath1(path)</a>. These Guidelines also define
five other pointer schemes, which provide access to parts of an XML
document such as points within  data content or stretches of data
content. These additional TEI pointer schemes are defined in sections
<a class="link_ptr" href="SA.html#SATSLR" title="left(pointer) and right(pointer)">11.2.4.3  left(pointer) and right(pointer)</a> to <a class="link_ptr" href="SA.html#SATSMA" title="match(pointer, string [, index])">11.2.4.6  match(pointer, string [, index])</a> below. </p><div class="div4" id="body.1_div.11_div.2_div.4_div.1"><h5>11.2.4.1  Introduction to TEI pointers</h5><p><span id="id2490691"/>Before discussing the TEI pointer schemes, we introduce
slightly more formally the terminology used to define them. So far, we
have discussed only ways of pointing at components of the XML
information set node such as elements and attributes. However, there
is often a need in text analysis to address additional types of
location such as the ‘point’ locations
<em>between</em> nodes, and ‘ranges’ that may
arbitrarily cross the boundaries of nodes in a document.  The content
of an XML document is organized sequentially as well as
hierarchically, and it therefore makes sense to consider ranges of
characters within it independently of the nodes to which they belong,
for example when making a selection in a text editor. For processing
purposes, such a range is best defined by the pair of points at its
start and end.  It is often useful to think of pointer schemes as
analogous to query functions that return nodes in the XML information
set (the DOM tree) of an
XML document, as in the case of the element and xpath pointer schemes
discussed so far, but this is not invariably the case. A point is
adjacent to one or two nodes, but is not a node itself, while a range
may not even overlap with any complete node in the DOM tree.</p><div class="p"><span id="id2490726"/>The TEI pointer scheme thus distinguishes the following
kinds of object:

<ul><li>A node represents a single item in the XML information
	set for a document. For pointing
	purposes, the only nodes that are of interest are Text Nodes,
	Element Nodes, and Attribute nodes.</li><li>A node set is a set of nodes in the XML information set
	of a document. In TEI Pointing applications, node sets are
	only allowed as the result of resolving a URI when multiple
	URIs would have been allowed where it appears, i.e. in
	attributes which are declared as permitting two or more data.pointer values as opposed to only
	one. As the name ‘set,’ implies, the
	individual items in a node set are not ordered, and no
	assumptions about relative ordering of items in a node set
	should be made.</li><li>A Point represents a point between nodes in a document.
	Every point is adjacent to either characters or elements, and
	never to another point. In fact, in the character
	representation of an XML document, every position between data
	characters, start-tags or end-tags is a point, and there are
	no other points. 
   If one treats all character content as if it were broken into
   single-character text-nodes, every point is definable as either
<ul><li> the point preceding a node, and if that node has a predecessor
     in document order, then it is the same as the point following
     that predecessor; or</li><li> the point following a node, and if that node has a successor in
     document order, then it is the same as the point preceding that
     successor.
</li></ul></li><li>A Range is defined as the portion of a document between
	two points. Since points may occur anywhere within the
	document, ranges do not correspond directly to nodes or to node
	sets. A range may overlap the contents of a node either
	completely or partially.</li></ul></div><div class="p"><span id="id2490811"/>The TEI has registered the following five pointer schemes:
<dl><dt>xpath1</dt><dd>Addresses a mode or nodeset using the Xpath syntax. (<a class="link_ptr" href="SA.html#SATSXP" title="xpath1(path)">11.2.4.2  xpath1(path)</a>)</dd><dt>left and right</dt><dd>addresses the point
before (left) or after (right) a node or node set (<a class="link_ptr" href="SA.html#SATSLR" title="left(pointer) and right(pointer)">11.2.4.3  left(pointer) and right(pointer)</a>) </dd><dt>range</dt><dd>addresses the range between two points (<a class="link_ptr" href="SA.html#SATSRN" title="range(pointer1, pointer2)">11.2.4.4  range(pointer1, pointer2)</a>)</dd><dt>string-range</dt><dd>addresses a range of a specified length starting from a
specified point (<a class="link_ptr" href="SA.html#SATSRN" title="range(pointer1, pointer2)">11.2.4.4  range(pointer1, pointer2)</a>)</dd><dt>match</dt><dd>addresses a range which matches a specified string within a node
(<a class="link_ptr" href="SA.html#SATSMA" title="match(pointer, string [, index])">11.2.4.6  match(pointer, string [, index])</a>)</dd></dl></div><p><span id="id2490909"/>The xpath1 scheme refers to the
existing XPath specification which is adopted without
modification or extension.
</p><p><span id="id2490921"/>The other five schemes overlap in functionality with a W3C draft
specification known as the xpointer
scheme draft, but are individually much simpler. At the time of
this writing, there is no current or scheduled activity at the W3C
towards revising this draft or issuing it as a recommendation.</p></div><div class="div4" id="SATSXP"><h5>11.2.4.2  xpath1(path)</h5><div class="p"><span id="id2490949"/>The xpath1 scheme locates a
          node or node set within an XML Information Set. The single
          argument path is an XPath path as defined in the
          <a class="link_ref" href="http://www.w3.org/TR/xpath" title="W3C XPath 1 Recommendation">W3C XPath 1
          Recommendation</a>. The node or node set resulting from
          evaluating the XPath is the reference of an address using
          the xpath1 scheme. For example,
          the following example selects the first paragraph of the <code>&lt;ftnote&gt;</code> element with <span class="att">id</span> of
          <span class="val">fn6</span> of a paper that discusses XPointers. <div class="pre"> <span class="element">&lt;ptr<br/>   <span class="attribute">target</span>="http://www.mulberrytech.com/Extreme/Proceedings/xml/2004/Thompson01/EML2004Thompson01.xml#xpath1(//ftnote[@id='fn6']/para[1])"/&gt;</span></div></div><p><span id="id2491004"/>When a URI reference is
        specified as the value of an attribute declared as a single
        data.pointer, the result must be
        a single node, and it is an error if the result is a node set.
        When the URI reference is specified as the value of an
        attribute declared to permit two or more data.pointer values, each node in the
        node set is treated as if it were the result of a separate URI
        reference.</p><p><span id="id2491031"/>When an xpath is interpreted by a TEI processor, the
        information set of the referenced document is interpreted
        without any additional information supplied by any schema
        processing that may or may not be present. In particular this
        means that no white space normalization is applied to a
        document before the xpath is interpreted.
        </p><p><span id="id2491042"/>This pointer scheme allows easy, direct use of the most
        widely-implemented XML query method. It is probably the most
        robust pointing mechanism for the common situation of
        selecting an XML element or its contents where an
        <span class="att">xml:id</span> is not present. The ability to use element
        names and attribute names and
        values makes xpath1 pointers more
        robust than the other mechanisms discussed in this section 

        even if the designated document changes. For durability in the
        presence of editing, use of <span class="att">xml:id</span> is always
        recommended when possible.</p></div><div class="div4" id="SATSLR"><h5>11.2.4.3  left(pointer) and right(pointer)</h5><div class="p"><span id="id2491102"/>The left (right) scheme locates the point
          immediately preceding (following) its argument. The single
          pointer argument to left or right is treated like a fragment
          identifier itself, and must be a bare name or XPointer
          pointer.  The designation of this argument is
          resolved with respect to the base URI in effect for the
          left or right according to the normal
          rules.<a class="notelink" href="#Note88"><sup>88</sup></a> Because
          most pointer schemes return nodes or ranges rather than
          points, the following description lists the behavior of
          left and right for all three types of possible
          location that might result from interpreting its argument.
            <dl><dt>A Node</dt><dd> When pointer resolves to a node, the
              point designated is the point immediately preceding
              (left) or following (right) the node.
              </dd><dt>A Node Set</dt><dd> When pointer resolves to a
node set, the point designated is the point preceding the first
element of the set (left) or following
the last element of the set (right)</dd><dt>A range</dt><dd> When pointer
                resolves to a range, the point designated is the point
                designating the start (left) or end (right) of the range.
              </dd><dt>A Point</dt><dd> When pointer resolves to a
point, that point is the result. The pointer schemes left and right
make no change when given a point as argument.
               </dd></dl></div><div class="p"><span id="id2491285"/>The following example points to the spot immediately
	    following the last character of the element found by
	    walking down the document tree to the 6th child of the
	    3rd child of the 3rd child of the 2st child of the root
	    element. In this case, the path takes us to a <code>&lt;postcode&gt;</code> node which contains the string
	    ‘20850’, so the point being pointed to is that
	    following the  ‘0’ character at the end of the
	    element content. <div class="pre"> <span class="element">&lt;p<br/>   <span class="attribute">xml:base</span>="http://www.mulberrytech.com/Extreme/Proceedings/xml/2002/"&gt;</span><br/>  <span class="element">&lt;ptr<br/>    <span class="attribute">target</span>="Usdin01/EML2002Usdin01.xml#right(element(/1/1/3/3/6))"/&gt;</span><br/> <span class="element">&lt;/p&gt;</span></div></div></div><div class="div4" id="SATSRN"><h5>11.2.4.4  range(pointer1, pointer2)</h5><div class="p"><span id="id2491334"/>The range scheme locates a
          range between two points in an XML information set. The two
          pointer  arguments to range
          locate the boundaries of the range by two points, and are
          interpreted as fragment identifiers. The parameters
          pointer1 and pointer2 are XPointers
          themselves, and are resolved according to the rules
          specified in the definition of the pointer scheme they use.
          <a class="notelink" href="#Note89"><sup>89</sup></a>
          Because most pointer schemes return nodes or ranges rather
          than points, the following description lists the behavior of
          range for all three types of
          possible result.
            <ul><li>When pointer1 resolves to a node, the
	      starting point of the range is the point immediately
	      preceding the node. When pointer2 resolves to a
	      node, the ending point of the range is the point
	      immediately following the node. It is an error if the
	      ending point precedes the starting point of a
	      range.</li><li>When pointer1 resolves to a range
	      R, the starting point of the result range is
	      the same as the starting point of R. When
	      pointer2 resolves to a range R, the
	      ending point of the result range is the ending point of
	      R.</li><li>When pointer1 resolves to a point, that point is
	      the start of the range. When pointer2 resolves to a
	      point, that point is the end of the range.</li></ul></div></div><div class="div4" id="SATSSR"><h5>11.2.4.5  string-range(pointer, offset [, length])</h5><p><span id="id2491468"/>The string-range scheme
          locates a range based on character positions.
          
          While
          string-range endpoints are points adjacent to character
          positions, they must be designated by the characters to
          which they are adjacent, in the same way that the nodes
          corresponding to XML elements are. This avoids ambiguity
          about which point between two characters is indicated when
          characters are interrupted by markup.</p><p><span id="id2491501"/>The pointer argument to string-range designates a node or a
          range within which a string is to be located. No string
          range, even an empty one, can be defined by a string-range if pointer has
	  the empty string as string value.
	  
	  Every string-range is defined based on an ‘origin
	  character’. The origin is numbered 0, and
	  designates the first character of the string-value of
	  pointer. The offset is a character index relative
	  to the origin; the start of the resulting range is the
	  position designated by the sum of the origin and
	  offset.</p><p><span id="id2491562"/>If length is specified, the end of the range is
          at a point adjacent  to the character designated by the origin added
          to length. If the offset is negative, or
          length is sufficiently large, a string-range can
          designate characters outside the string-value of the
          intitial pointer. In this case, characters are located using
          the string-value of the entire document. It is also legal
          for length plus the origin to exceed the length of
          the string-value of the document by one, in order to
          accomodate ranges that include the last character of a
          document. </p><p><span id="id2491594"/>If length is not specified, it defaults to the value 1, and
          the string range contains one character. If it is specified as 0, the
          zero-length range is interpreted as the point immediately preceding the
          origin character.</p></div><div class="div4" id="SATSMA"><h5>11.2.4.6  match(pointer, string [, index])</h5><p><span id="id2491619"/>The match scheme designates the result of a literal
           match of the argument string within the
           string-value of the pointer argument. The result
           is a range from the first matching character to the
           last. It is an error if there is no matching string. A
           match may not extend outside the range corresponding to the
           string value of pointer.</p><p><span id="id2491640"/>The index argument is an integer greater than
           or equal to 1, specifying which match should be chosen when
           there is more than one match within the string-value of
           pointer. If no index is provided, the
           default value is 1, indicating the first match found.</p></div></div><div class="div3" id="SACR"><h4>11.2.5  Canonical References</h4><p><span id="id2491674"/>By ‘canonical’ reference we mean any means
      of pointing into documents, specific to a community or
      corpus. For example, biblical scholars might understand ‘Matt
      5:7’ to mean ‘the book called <i>Matt</i>, chapter
      5, verse 7.’ They might then wish to translate the string
      ‘Matt 5:7’ into a pointer into a TEI-encoded document,
      selecting the element which corresponds to the seventh
      <code>&lt;div&gt;</code> element within the fifth <code>&lt;div&gt;</code> element
      within the <code>&lt;div&gt;</code> element with the <span class="att">n</span> attribute
      valued ‘Matt.’</p><p><span id="id2491720"/>Several elements in the TEI scheme (<code>&lt;gloss&gt;</code>,
      <code>&lt;ptr&gt;</code><code>&lt;ref&gt;</code>, and <code>&lt;term&gt;</code>) bear a special
      attribute, <span class="att">cRef</span>, just for this purpose. Using the
      system described in this section, an encoder may specify
      references to canonical works in a discipline-familiar format,
      and expect software to derive a complete URI from it. The value
      of the <span class="att">cRef</span> attribute is processed as described in
      this section, and the resulting URI reference is treated as if
      it were the value of the <span class="att">target</span> attribute. The
      <span class="att">cRef</span> and <span class="att">target</span> attributes are mutually
      exclusive: only one or the other may be specified on any given
      occurrence of an element.</p><div class="p"><span id="id2491767"/>For the cref attribute to function as required, a mechanism is needed to define the
mapping between (for example) ‘the book called
<i>Matt</i>’ and the part of the XML structure which
corresponds with it. This is provided by the  <code>&lt;refsDecl&gt;</code> element  in the TEI Header,
which contains   an algorithm for translating a canonical reference string
      (like <span class="val">Matt 5:7</span>) into a URI such as <tt>#xpath1(//div[@n='Matt']/div[5]/div[$7]</tt>. The
      <code>&lt;refsDecl&gt;</code> element is described in section <a class="link_ptr" href="HD.html#HD54" title="The Reference System Declaration">3.3.5  The Reference System Declaration</a>; the following example is discussed in more
      detail below in section <a class="link_ptr" href="SA.html#SACRWE" title="Worked Example">11.2.5.1  Worked Example</a>.
      <div class="pre"> <span class="element">&lt;refsDecl <span class="attribute">xml:id</span>="biblical"&gt;</span><br/>  <span class="element">&lt;cRefPattern<br/>    <span class="attribute">matchPattern</span>="(.+) (.+):(.+)"<br/>    <span class="attribute">replacementPattern</span>="#xpath1(//div[@n='$1']/div[$2]/div[$3])"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>This pointer pattern extracts and references the <span class="element">&lt;q&gt;</span>book,<span class="element">&lt;/q&gt;</span><br/>    <span class="element">&lt;q&gt;</span>chapter,<span class="element">&lt;/q&gt;</span> and <span class="element">&lt;q&gt;</span>verse<span class="element">&lt;/q&gt;</span> parts of a biblical reference.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/>  <span class="element">&lt;cRefPattern <span class="attribute">matchPattern</span>="(.+) (.+)"<br/>    <span class="attribute">replacementPattern</span>="#xpath1(//div[@n='$1']/div[$2])"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>This pointer pattern extracts and references the <span class="element">&lt;q&gt;</span>book<span class="element">&lt;/q&gt;</span> and<br/>         <span class="element">&lt;q&gt;</span>chapter<span class="element">&lt;/q&gt;</span> parts of a biblical reference.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/>  <span class="element">&lt;cRefPattern <span class="attribute">matchPattern</span>="(.+)"<br/>    <span class="attribute">replacementPattern</span>="#xpath1(//div[@n='$1'])"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>This pointer pattern extracts and references just the <span class="element">&lt;q&gt;</span>book<span class="element">&lt;/q&gt;</span><br/>         part of a biblical reference.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/> <span class="element">&lt;/refsDecl&gt;</span></div></div><div class="p"><span id="id2491882"/>When an application encounters a canonical reference as the
      value of <span class="att">cRef</span> attribute, it  follows a sequence of
      specific steps to transform it into a URI reference.
      <ol><li>Ascertain the correct <code>&lt;refsDecl&gt;</code>
        following the rules summarized in section <a class="link_ptr" href="CC.html#CCAS3" title="Summary">20.3.3  Summary</a>.</li><li>For each <code>&lt;cRefPattern&gt;</code> element encountered in
        the appropriate <code>&lt;refsDecl&gt;</code>, in the order encountered:
        <ol><li>match the value of <span class="att">cRef</span> to the regular
          expression found as the value of the <span class="att">re</span>
          attribute</li><li>if the <span class="att">cRef</span> value matches, take the value
          of the <span class="att">pat</span> attribute and substitute the back
          references ($1, $2, etc.) with the corresponding matched
          substrings</li><li>the result is taken as if it were a relative or
          absolute URI reference specified on the <span class="att">target</span>
          attribute; i.e., it should be used as is or combined with
          the current <span class="att">xml:base</span> value as usual</li><li>no further processing of this <span class="att">cRef</span> against
          the <code>&lt;refsDecl&gt;</code> should take place</li><li>if, however, the <span class="att">cRef</span> value does not match
          the regular expression specified on <span class="att">re</span> attribute,
          proceed to the next <code>&lt;fragmentPatter&gt;</code></li></ol></li><li>If all the <code>&lt;cRefPattern&gt;</code> elements are
        examined in turn and none matches, the pointer fails.</li></ol></div><p><span id="id2492002"/>The regular expression language used as the value of the
      <span class="att">re</span> attribute is that used for the
      <strong>pattern</strong> facet of the World Wide Web Consortium's
      XML Schema Language in an <a class="link_ref" href="http://www.w3.org/TR/xmlschema-2/#regexs" title="Appendix to XML Schema Part 2">Appendix to
      XML Schema Part 2</a>.<a class="notelink" href="#Note90"><sup>90</sup></a>
      The value of the <span class="att">pat</span> attribute is simply a string,
      except that occurences of ‘$1’ through ‘$9’ are
      replaced by the corresponding substring match. Note that since a
      maximum of nine substring matches are permitted, the string
      ‘$18’ means ‘the value of the first matched substring
      followed by the character ‘8’’ as opposed to ‘the
      eighteenth matched substring’. If there is a need for an
      actual string including dollar sign followed by a digit that is
      not supposed to be replaced, the dollar sign should be written
      as <tt>%24</tt>.</p><div class="div4" id="SACRWE"><h5>11.2.5.1  Worked Example</h5><p><span id="id2492095"/>Let us presume that with the example <code>&lt;refsDecl&gt;</code>
        above, an application comes across a <span class="att">cRef</span> value of
        <span class="val">Matt 5:7</span> inside a <code>&lt;div&gt;</code> which has an
        <span class="att">xml:base</span> of
        <span class="val">http://www.jph.org/resources/books/Bible.xml</span>. The
        application would first apply the regular expression
        <tt>(.+) (.+):(.+)</tt> to ‘Matt 5:7’. This regular
        expression would successfully match. The first matched
        substring would be ‘Matt’, the second ‘5’, and the
        third ‘7’. The application would then apply these
        substrings to the pattern
        <tt>#xpath1(//div[@n='$1']/div[$2]/div[$3])</tt>, producing
        <tt>#xpath1(//div[@n='Matt']/div[5]/div[7])</tt>. It would
        append this to the <span class="att">xml:base</span> in force, thus
        generating the complete URI Reference
        <tt>http://www.jph.org/resources/books/Bible.xml#xpath1(//div[@n='Matt']/div[5]/div[7])</tt>.
        </p><p><span id="id2492201"/>If, however, the input string had been ‘Matt 5’, the
        first regular expression would not have matched. The
        application would have then tried the second, <tt>(.+)
        (.+)</tt>, producing a successful match, and the matched
        substrings ‘Matt’ and ‘5’. It would then have
        substituted those matched substrings into the pattern
        <tt>#xpath1(//div[@n='$1']/div[$2])</tt> to produce a
        fragment identifier, which when appended to the
        <span class="att">xml:base</span> in force produces the absolute URI
        reference 
        <tt>http://www.jph.org/resources/books/Bible.xml#xpath1(//div[@n='Matt']/div[5])</tt>.</p><p><span id="id2492239"/>If the input string had been ‘Matt’, neither the first
          nor the second regular expressions would have successfully
          matched. The application would have then tried the third,
          <tt>(.+)</tt>, producing the matched substring ‘Matt’,
          and the URI Reference
          <tt>http://www.jph.org/resources/books/Bible.xml#xpath1(//div[@n='Matt'])</tt>.</p><div class="p"><span id="id2492263"/>It is an error to reference more matched substrings than
          are produced by the regular expression. For example:
          <div class="pre"> <span class="element">&lt;cRefPattern<br/>   <span class="attribute">matchPattern</span>="(.+) (.+):(.+)"<br/>   <span class="attribute">replacementPattern</span>="//div[@n='$1']/div[$2]/div[$3]/p[$4]"/&gt;</span></div>
          would produce an error, since only three matched
          substrings would have been produced, but a fourth (<tt>$4</tt>) was
          referenced.</div><p><span id="id2492285"/>It is quite reasonable to believe that encoders would
          actually prefer much more precise regular expressions than
          those used as examples above. E.g.,
          <tt>^\s*([1-9]?[A-Z][a-z]+)\s+([1-9][0-9]?[0-9]?):([1-9][0-9]?)\s*$</tt>.</p></div><div class="div4" id="body.1_div.11_div.2_div.5_div.2"><h5>11.2.5.2  Complete and Partial URI Examples</h5><div class="p"><span id="id2492307"/>In the above example, the value of <span class="att">cRef</span> was used
        to generate a Fragment Identifier, which in turn was used to
        generate a complete URI. The complete URI could be generated
        directly, as in the following example.
        <div class="pre"> <span class="element">&lt;refsDecl <span class="attribute">xml:id</span>="USC"&gt;</span><br/>  <span class="element">&lt;cRefPattern<br/>    <span class="attribute">matchPattern</span>="([0-9][0-9])\s*U\.?S\.?C\.?\s*[Cc](h(\.|ap(ter|\.)?)?)?\s*([1-9][0-9]*)"<br/>    <span class="attribute">replacementPattern</span>="http://uscode.house.gov/download/pls/$1C$5.txt"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Matches most standard references to particular
              chapters of the United States Code, e.g.
              <span class="element">&lt;val&gt;</span>11USCC7<span class="element">&lt;/val&gt;</span>, <span class="element">&lt;val&gt;</span>17 U.S.C. Chapter 3<span class="element">&lt;/val&gt;</span>, or<br/>                 <span class="element">&lt;val&gt;</span>14 USC Ch. 5<span class="element">&lt;/val&gt;</span>. Note that a leading zero is<br/>                 required for the title (must be two digits), but is not<br/>                 permitted for the chapter number.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/>  <span class="element">&lt;cRefPattern<br/>    <span class="attribute">matchPattern</span>="([0-9][0-9])\s*U\.?S\.?C\.?\s*[Pp](re(lim(inary)?)?)?\s*[Mm](at(erial)?)?"<br/>    <span class="attribute">replacementPattern</span>="http://uscode.house.gov/download/pls/$1T.txt"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Matches references to the preliminary material for a
              given title, e.g. <span class="element">&lt;val&gt;</span>11USCP<span class="element">&lt;/val&gt;</span>, <span class="element">&lt;val&gt;</span>17 U.S.C.
              Prelim Mat<span class="element">&lt;/val&gt;</span>, or <span class="element">&lt;val&gt;</span>14 USC pm<span class="element">&lt;/val&gt;</span>.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/>  <span class="element">&lt;cRefPattern<br/>    <span class="attribute">matchPattern</span>="([0-9][0-9])\s*U\.?S\.?C\.?\s*[Aa](ppend(ix)?)?"<br/>    <span class="attribute">replacementPattern</span>="http://uscode.house.gov/download/pls/$1A.txt"&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Matches references to the appendix of a given tile,
              e.g. <span class="element">&lt;val&gt;</span>05USCA<span class="element">&lt;/val&gt;</span>, <span class="element">&lt;val&gt;</span>11 U.S.C. Appendix<span class="element">&lt;/val&gt;</span>,<br/>                 or <span class="element">&lt;val&gt;</span>18 USC Append<span class="element">&lt;/val&gt;</span>.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/cRefPattern&gt;</span><br/> <span class="element">&lt;/refsDecl&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;p&gt;</span>The example in section <span class="element">&lt;ptr <span class="attribute">target</span>="#SABN"/&gt;</span> is taken<br/>           from <span class="element">&lt;ref <span class="attribute">cRef</span>="17 USC Ch 1"&gt;</span>Subject Matter and Scope of
          Copyright<span class="element">&lt;/ref&gt;</span>.<span class="element">&lt;/p&gt;</span></div></div></div><div class="div4" id="body.1_div.11_div.2_div.5_div.3"><h5>11.2.5.3  Miscellaneous usages</h5><p><span id="id2492435"/>Canonical reference pointers are intended for use by TEI
          encoders. However, this specification might be useful to the
          development of a process for recognizing canonical
          references in non-TEI documents (such as plain text
          documents), possibly as part of their conversion to TEI.</p></div></div></div><div class="div2" id="SASE"><h3>11.3  Blocks, Segments and Anchors</h3><div class="p"><span id="id2492461"/>In this section, we define three general purposes elements
    which may be used to mark and categorize both a span of text and a
    point within one. These elements have several uses, most notably
    to provide elements which can be given identifiers for use when
    aligning or linking to parts of a document, as discussed elsewhere
    in this chapter. They also provide a convenient way of extending
    the semantics of the TEI markup scheme in a theory-neutral manner,
    by providing for two neutral or ‘anonymous’
    elements to which the encoder can add any meaning not supplied by
    other TEI defined elements.
    <ul class="specList"><li><b>&lt;<a href="ref-anchor.html">anchor</a>&gt;</b> (anchor point) attaches an identifier to a
point within a text, whether or not it corresponds with a textual
element.</li><li><b>&lt;<a href="ref-ab.html">ab</a>&gt;</b> (anonymous block) contains any arbitrary component-level unit of text, acting as
an anonymous container for phrase or inter level elements analogous to, but
without the semantic baggage of, a paragraph.<table class="attList"><tr><td class="Attribute">part</td><td colspan="2">specifies whether or not the block is complete. </td></tr></table></li><li><b>&lt;<a href="ref-seg.html">seg</a>&gt;</b> (arbitrary segment) contains any arbitrary phrase-level unit of text (including
other seg elements).</li></ul>
    The elements <code>&lt;anchor&gt;</code> and <code>&lt;ab&gt;</code> are both members of
    the class <span class="ident-class">att.typed</span>, from which they
    inherit the following attributes:
    <ul class="specList"><li><b><a href="ref-att.typed.html">att.typed</a></b> provides generic attributes which can be used to classify or subclassify elements in any way. <table class="attList"><tr><td class="Attribute">type</td><td colspan="2">characterizes the element in some sense, using any convenient
 classification scheme or typology.</td></tr><tr><td class="Attribute">subtype</td><td colspan="2">provides a sub-categorization of the element, if needed</td></tr></table></li></ul>
    The <code>&lt;seg&gt;</code> element is a member of the class <span class="ident-class">att.segLike</span>, from which it inherits the following
    attributes:
    <ul class="specList"><li><b><a href="ref-att.segLike.html">att.segLike</a></b> provides attributes for elements used for arbitrary segmentation. <table class="attList"><tr><td class="Attribute">type</td><td colspan="2">characterizes the type of segment.</td></tr><tr><td class="Attribute">function</td><td colspan="2">characterizes the function of the segment.</td></tr><tr><td class="Attribute">part</td><td colspan="2">specifies whether or not the segment is fragmented by some other
structural element, for example a clause which is divided between two
or more sentences.</td></tr></table></li></ul></div><p><span id="id2492542"/>The <code>&lt;anchor&gt;</code> element may be thought of as an empty
    <code>&lt;seg&gt;</code>, or as an artifice enabling an identifier to be
    attached to any position in a text. Like the <code>&lt;mileStone&gt;</code>
    element discussed in section <a class="link_ptr" href="CO.html#CORS" title="Reference Systems">4.10  Reference Systems</a>, it is useful
    where multiple views of a document are to be combined, for
    example, when a logical view based on paragraphs or verse lines is
    to be mapped on to a physical view based on manuscript lines.
    However, it differs from the milestone and related elements in
    that the <code>&lt;anchor&gt;</code> element should not be used to mark the
    start or end of an arbitrary zone within a text, but only to mark
    an arbitrary point used for alignment, or as the target of a
    spanning element such as those discussed in section <a class="link_ptr" href="PH.html#PHAD" title="Additions and Deletions">15.1.4  Additions and Deletions</a>.</p><div class="p"><span id="id2492581"/>For example, suppose that we wish to mark the end of the fifth
    word following each occurrence of some term in a particular text,
    perhaps to assist with some collocational analysis. This can most
    easily be done with the help of the <span class="tag">&lt;anchor&gt;</span> tag, as
    follows:
    <div class="pre">English language. Except for not very <span class="element">&lt;anchor <span class="attribute">xml:id</span>="eng1"/&gt;</span><br/>English at all at the time<br/> <span class="element">&lt;anchor <span class="attribute">xml:id</span>="eng2"/&gt;</span><br/>English was still full of flaws<br/> <span class="element">&lt;anchor <span class="attribute">xml:id</span>="eng3"/&gt;</span><br/>English. This was revised by young<br/> <span class="element">&lt;anchor <span class="attribute">xml:id</span>="eng4"/&gt;</span></div>
    In section <a class="link_ptr" href="SA.html#SACS1" title="Correspondence">11.4.1  Correspondence</a> we discuss ways in which these
    <code>&lt;anchor&gt;</code> points might be used to represent an alignment
    such as one might get in a keyword-in-context concordance.</div><p><span id="id2492637"/>The <code>&lt;seg&gt;</code> element may be used at the encoder's
    discretion to mark almost any segment of the text of interest for
    processing. One use of the element is to mark text features for
    which no appropriate markup is otherwise defined, i.e. as a simple
    extension mechanism. Another use is to provide an identifier for
    some segment which is to be pointed at by some other element, i.e.
    to provide a target, or a part of a target, for a <code>&lt;ptr&gt;</code> or
    other similar element.</p><div class="p"><span id="id2492656"/>Several examples of uses for the <code>&lt;seg&gt;</code> element are
    provided elsewhere in these Guidelines. For example:
    <ul><li>as a means of marking segments significant in a metrical
      or rhyming analysis (see section <a class="link_ptr" href="VE.html#VEME" title="Rhyme and Metrical Analysis">6.4  Rhyme and Metrical Analysis</a>)</li><li>as a means of marking typographic lines in drama (see
      section <a class="link_ptr" href="DR.html#DRBOD" title="The Body of a Performance Text">7.2  The Body of a Performance Text</a>) or title pages (see section <a class="link_ptr" href="DS.html#DSTITL" title="Title Pages">5.5  Title Pages</a>)</li><li>as a means of marking prosody- or pause-defined units in
      transcribed speech (see section <a class="link_ptr" href="TS.html#TSSASE" title="Segmentation">8.3.1  Segmentation</a>)</li><li>as a means of marking linguistic or other analyses in a
      theory-neutral manner (see chapter <a class="link_ptr" href="AI.html" title="15">12  Simple Analytic Mechanisms</a>
      passim)</li></ul></div><div class="p"><span id="id2492711"/>In the following simple example, the <code>&lt;seg&gt;</code> element
      simply delimits the extent of a stutter, a textual feature for
      which no element is provided in these Guidelines.
      <div class="pre"> <span class="element">&lt;q&gt;</span>Don't say <span class="element">&lt;q&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="stutter"&gt;</span>I-I-I<span class="element">&lt;/seg&gt;</span>'m afraid,<span class="element">&lt;/q&gt;</span><br/> Melvin, just say <span class="element">&lt;q&gt;</span>I'm afraid.<span class="element">&lt;/q&gt;</span><br/> <span class="element">&lt;/q&gt;</span></div>
      The <code>&lt;seg&gt;</code> element is particularly useful for the mark-up
      of linguistically significant constituents such as the phrases
      that may be the output of an automatic parsing system. This
      example also demonstrates the use of the <span class="att">xml:id</span>
      attribute to carry an identifier which other parts of a document
      may use to point to, or align with:
      <div class="pre"> <span class="element">&lt;seg <span class="attribute">xml:id</span>="bl0034" <span class="attribute">type</span>="sentence"&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">xml:id</span>="bl0034.1" <span class="attribute">type</span>="phrase"&gt;</span>Literate and illiterate speech<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">xml:id</span>="bl0034.2" <span class="attribute">type</span>="phrase"&gt;</span>in a language like English<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">xml:id</span>="bl0034.3" <span class="attribute">type</span>="phrase"&gt;</span>are plainly different.<span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/seg&gt;</span></div></div><div class="p"><span id="id2492798"/>As the above example shows, <code>&lt;seg&gt;</code> elements may be
      nested directly within one another, to any degree of analysis
      considered appropriate. This is taken a little further in the
      following example, where the <span class="att">type</span> and
      <span class="att">subtype</span> attributes have been used to further
      categorise each word of the sentence (the <span class="att">xml:id</span>
      attributes have been removed to reduce the complexity of the
      example):
      <div class="pre"> <span class="element">&lt;seg <span class="attribute">type</span>="sentence" <span class="attribute">subtype</span>="declarative"&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="phrase" <span class="attribute">subtype</span>="noun"&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="adjective"&gt;</span>Literate<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="conjunction"&gt;</span>and<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="adjective"&gt;</span>illiterate<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="noun"&gt;</span>speech<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="phrase" <span class="attribute">subtype</span>="preposition"&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="preposition"&gt;</span>in<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="article"&gt;</span>a<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="noun"&gt;</span>language<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="preposition"&gt;</span>like<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="noun"&gt;</span>English<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="phrase" <span class="attribute">subtype</span>="verb"&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="verb"&gt;</span>are<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="adverb"&gt;</span>plainly<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">type</span>="word" <span class="attribute">subtype</span>="adjective"&gt;</span>different<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="punct"&gt;</span>.<span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/seg&gt;</span></div></div><div class="p"><span id="id2492957"/>(The example values shown are chosen for simplicity of
      comprehension, rather than verisimilitude). It should also be
      noted that specialized segment elements are defined in section
      <a class="link_ptr" href="AI.html#AILC" title="Linguistic Segment Categories">12.1  Linguistic Segment Categories</a> to facilitate this particular kind of
      analysis. These allow for the explicit mark up of units called
      <em>s-units</em>, <em>clauses</em>,
      <em>phrases</em>, <em>words</em>, <em>morphemes</em>
      and <em>characters</em>, which may be felt preferable to the
      more generic approach typified by use of the <code>&lt;seg&gt;</code>
      element. Using these, the first phrase above might be encoded
      simply as
      <div class="pre"> <span class="element">&lt;phr <span class="attribute">type</span>="noun"&gt;</span><br/>  <span class="element">&lt;w <span class="attribute">type</span>="adjective"&gt;</span>Literate<span class="element">&lt;/w&gt;</span><br/>  <span class="element">&lt;w <span class="attribute">type</span>="conjunction"&gt;</span>and<span class="element">&lt;/w&gt;</span><br/>  <span class="element">&lt;w <span class="attribute">type</span>="adjective"&gt;</span>illiterate<span class="element">&lt;/w&gt;</span><br/>  <span class="element">&lt;w <span class="attribute">type</span>="noun"&gt;</span>speech<span class="element">&lt;/w&gt;</span><br/> <span class="element">&lt;/phr&gt;</span></div>
      Note the way in which the <span class="att">type</span> attribute of these
      specialized elements now carries the value carried by the
      <span class="att">subtype</span> attribute of the more general <code>&lt;seg&gt;</code>
      element. For an analysis not using these traditional linguistic
      categories however, the <code>&lt;seg&gt;</code> element provides a simple
      but powerful mechanism.</div><div class="p"><span id="id2493050"/>In language corpora and similar material, the <code>&lt;seg&gt;</code>
      element may be used to provide an end-to-end segmentation as an
      alternative to the more specific <code>&lt;s&gt;</code> element proposed in
      chapter <a class="link_ptr" href="AI.html#AILC" title="Linguistic Segment Categories">12.1  Linguistic Segment Categories</a> for the mark-up of orthographic
      sentences, or <em>s-units</em>. However, it may be more
      useful to use the <code>&lt;s&gt;</code> element for this purpose, since
      this means that the <code>&lt;seg&gt;</code> element can then be used to
      mark both features within s-units and segments composed of
      s-units, as in the following example:<a class="notelink" href="#Note91"><sup>91</sup></a><div class="pre"> <span class="element">&lt;seg <span class="attribute">xml:id</span>="s1s3" <span class="attribute">type</span>="narrative unit"&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="s1"&gt;</span>Sigmund, the <span class="element">&lt;seg <span class="attribute">type</span>="patronymic"&gt;</span>son of Volsung<span class="element">&lt;/seg&gt;</span>,<br/>               was a king in Frankish country.<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="s2"&gt;</span>Sinfiotli was the eldest of his sons.<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="s3"&gt;</span> ... <span class="element">&lt;/s&gt;</span><br/> <span class="element">&lt;/seg&gt;</span></div></div><div class="p"><span id="id2493133"/>Like other elements, the <code>&lt;seg&gt;</code> tag must be properly
      enclosed within other elements. Thus, a single <code>&lt;seg&gt;</code>
      element can be used to group together words in different
      sentences only if the sentences are not themselves tagged. The
      first of the following two encodings is legal, but the second is
      not.
<div class="pre">Give me  <span class="element">&lt;seg <span class="attribute">type</span>="phrase"&gt;</span>a dozen. Or two or three.<span class="element">&lt;/seg&gt;</span></div><div class="pre_eg">&lt;!-- Illegal! --&gt;
&lt;s&gt;Give me &lt;seg type="phrase"&gt;a dozen.&lt;/s&gt;
&lt;s&gt;Or two or three.&lt;/s&gt;&lt;/seg&gt;</div></div><div class="p"><span id="id2493165"/>The <span class="att">part</span> attribute may be used as one simple
      method of overcoming this restriction:
      <div class="pre"> <span class="element">&lt;s&gt;</span>Give me <span class="element">&lt;seg <span class="attribute">type</span>="phrase" <span class="attribute">part</span>="I"&gt;</span>a dozen.<span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/s&gt;</span><br/> <span class="element">&lt;s&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">part</span>="F"&gt;</span>Or two or three.<span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/s&gt;</span></div>
      Another solution is to use the <code>&lt;join&gt;</code> element discussed
      in section <a class="link_ptr" href="SA.html#SAAG" title="Aggregation">11.7  Aggregation</a>; this requires that each of the
      <code>&lt;seg&gt;</code> elements be given an identifier. For further
      discussion of this generic encoding problem see also chapter
      <a class="link_ptr" href="USE.html#NH" title="31">24.6  Multiple Hierarchies</a>.</div><p><span id="id2493213"/>The <code>&lt;seg&gt;</code> element has the same content as a paragraph
      in prose: it can therefore be used to group together consecutive
      sequences of <span class="ident-class">model.inter</span> class elements,
      such as lists, quotations, notes, stage directions etc. as well
      as to contain sequences of phrase-level elements. It cannot
      however be used to group together sequences of paragraphs or
      similar text units such as verse lines; for this purpose, the
      encoder should use intermediate pointers, as described in
      section <a class="link_ptr" href="SA.html#SAPTIP" title="Intermediate Pointers">11.1.4  Intermediate Pointers</a> or the methods described in
      section <a class="link_ptr" href="SA.html#SAAG" title="Aggregation">11.7  Aggregation</a>. It is particularly important that
      the encoder provide a clear description of the principles by
      which a text has been segmented, and the way in which that
      segmentation is represented. This should include a description
      of the method used and the significance of any categorization
      codes. The description should be provided as a series of
      paragraphs within the <code>&lt;segmentation&gt;</code> element of the
      encoding description in the TEI header, as described in section
      <a class="link_ptr" href="HD.html#HD53" title="The Editorial Practices Declaration">3.3.3  The Editorial Practices Declaration</a>.</p><p><span id="id2493261"/>The <code>&lt;seg&gt;</code> element may also be used to encode
      simultaneous or mutually exclusive variants of a text when the
      more special purpose elements for simple editorial changes,
      abbreviation and expansion, addition and deletion, or for a
      critical apparatus are not appropriate. In these circumstances,
      one <code>&lt;seg&gt;</code> is encoded for each possible variant, and the
      set of them is enclosed in a <code>&lt;choice&gt;</code> element. </p><div class="p"><span id="id2493282"/>For example, if one were writing dual-platform instructions for
      installation of software, it might be useful to use <code>&lt;seg&gt;</code>
      to record platform-specific pieces of mutually exclusive text.
      <div class="pre">…
      pressing  <span class="element">&lt;choice&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="platform" <span class="attribute">subtype</span>="Mac"&gt;</span>option<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">type</span>="platform" <span class="attribute">subtype</span>="PC"&gt;</span>alt<span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/choice&gt;</span>-f will …</div></div><p><span id="id2493315"/>The remainder of this chapter contains a number of examples
      of the use of the <code>&lt;seg&gt;</code> element simply to provide an
      element to which an identifier may be attached, for example so
      that another segment may be linked or related to it in some
      way.</p><div class="p"><span id="id2493327"/>The <code>&lt;ab&gt;</code> (anonymous block) 
      element performs a similar function to that of the <code>&lt;seg&gt;</code> element, 
      but is used for portions of the
      text which occur not within paragraphs or other component-level
      elements, but at the component level themselves. It may be used, for
      example, to tag the canonical verse divisions of Biblical texts:
<div class="pre"> <span class="element">&lt;div1 <span class="attribute">n</span>="Gen" <span class="attribute">type</span>="book"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>The First Book of Moses, Called<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;head <span class="attribute">type</span>="main"&gt;</span>Genesis<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;div2 <span class="attribute">n</span>="1" <span class="attribute">type</span>="chapter"&gt;</span><br/>   <span class="element">&lt;ab <span class="attribute">n</span>="1"&gt;</span>In the beginning God created the heaven and the
      earth.<span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;ab <span class="attribute">n</span>="2"&gt;</span>And the earth was without form, and void; and darkness
      <span class="element">&lt;hi&gt;</span>was<span class="element">&lt;/hi&gt;</span> upon the face of the deep. And the Spirit of God<br/>         moved upon the face of the waters.<span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;ab <span class="attribute">n</span>="3"&gt;</span>And God said, Let there be light: and there was
      light.<span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;/div2&gt;</span><br/> <span class="element">&lt;/div1&gt;</span></div></div><div class="p"><span id="id2493397"/>In other cases, where the text clearly indicates paragraph
      divisions containing one or more verses, the <code>&lt;p&gt;</code> element
      may be used to tag the paragraphs, and the <code>&lt;seg&gt;</code> element
      used to subdivide them. The <code>&lt;ab&gt;</code> element is provided as
      an alternative to the <code>&lt;p&gt;</code> element; it may
      <em>not</em> be used within paragraphs. The <code>&lt;seg&gt;</code>
      element, by contrast, may appear only within and not between
      paragraphs (or anonymous block elements).
<div class="pre"> <span class="element">&lt;div1 <span class="attribute">n</span>="Gen" <span class="attribute">type</span>="book"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>Das Erste Buch Mose.<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;div2 <span class="attribute">n</span>="1" <span class="attribute">type</span>="chapter"&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;seg <span class="attribute">n</span>="1"&gt;</span>Am Anfang schuff Gott Himel vnd Erden.<span class="element">&lt;/seg&gt;</span><br/>    <span class="element">&lt;seg <span class="attribute">n</span>="2"&gt;</span>Vnd die Erde war wüst vnd leer / vnd es war
        finster auff der Tieffe / Vnd der Geist Gottes schwebet auff
        dem Wasser.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;seg <span class="attribute">n</span>="3"&gt;</span>Vnd Gott sprach / Es werde Liecht / Vnd es ward
         Liecht.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/div2&gt;</span><br/> <span class="element">&lt;/div1&gt;</span></div></div><div class="p"><span id="id2493476"/>The <code>&lt;ab&gt;</code> element is also useful for marking dramatic
      speeches when it is not clear whether the speech is to be
      regarded as prose or verse. If, for example, am encoder does not
      wish to express an opinion as to whether the opening lines of
      Shakespeare's <i>The Tempest</i> are to be regarded as
      prose or as verse, they might be tagged as follows: <div class="pre"> <span class="element">&lt;div1 <span class="attribute">n</span>="I" <span class="attribute">type</span>="act"&gt;</span><br/>  <span class="element">&lt;div2 <span class="attribute">n</span>="1" <span class="attribute">type</span>="scene"&gt;</span><br/>   <span class="element">&lt;head <span class="attribute">rend</span>="italic"&gt;</span>Actus primus, Scena prima.<span class="element">&lt;/head&gt;</span><br/>   <span class="element">&lt;stage <span class="attribute">rend</span>="italic" <span class="attribute">type</span>="setting"&gt;</span> A tempestuous noise of 
      Thunder and Lightning heard: 
      Enter a Ship-master, and a Boteswaine.<span class="element">&lt;/stage&gt;</span><br/>   <span class="element">&lt;sp&gt;</span><br/>    <span class="element">&lt;speaker&gt;</span>Master.<span class="element">&lt;/speaker&gt;</span><br/>    <span class="element">&lt;ab&gt;</span>Bote-swaine.<span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;/sp&gt;</span><br/>   <span class="element">&lt;sp&gt;</span><br/>    <span class="element">&lt;speaker&gt;</span>Botes.<span class="element">&lt;/speaker&gt;</span><br/>    <span class="element">&lt;ab&gt;</span>Heere Master: What cheere?<span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;/sp&gt;</span><br/>   <span class="element">&lt;sp&gt;</span><br/>    <span class="element">&lt;speaker&gt;</span>Mast.<span class="element">&lt;/speaker&gt;</span><br/>    <span class="element">&lt;ab&gt;</span>Good: Speake to th' Mariners: fall too't, yarely,
           or we run our selues a ground, bestirre, bestirre. 
           <span class="element">&lt;stage <span class="attribute">type</span>="move"&gt;</span>Exit.<span class="element">&lt;/stage&gt;</span><br/>    <span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;/sp&gt;</span><br/>   <span class="element">&lt;stage <span class="attribute">type</span>="move"&gt;</span>Enter Mariners.<span class="element">&lt;/stage&gt;</span><br/>   <span class="element">&lt;sp&gt;</span><br/>    <span class="element">&lt;speaker&gt;</span>Botes.<span class="element">&lt;/speaker&gt;</span><br/>    <span class="element">&lt;ab&gt;</span>Heigh my hearts, cheerely, cheerely my harts: yare, yare:
          Take in the toppe-sale: Tend to th' Masters whistle: Blow
          till thou burst thy winde, if roome e-nough.<span class="element">&lt;/ab&gt;</span><br/>   <span class="element">&lt;/sp&gt;</span><br/>  <span class="element">&lt;/div2&gt;</span><br/> <span class="element">&lt;/div1&gt;</span></div>
      See further <a class="link_ptr" href="CO.html#CODR" title="Core Tags for Drama">4.12.2  Core Tags for Drama</a> and <a class="link_ptr" href="DR.html#DRPAL" title="Speech Contents">7.2.4  Speech Contents</a>.</div><div class="p"><span id="id2493589"/>These elements are formally defined as follows:
      <div class="specgrp"><span id="DSASA"/><b>Specification group 108: Blocks Segments and Anchors</b><dl><dt>Element ab</dt><dd><pre class="eg">
ab = element ab { ab.content, ab.attributes }

ab.content = <a class="link_odd" href="ref-macro.paraContent.html">macro.paraContent</a>

ab.attributes =
   att.typed.attributes,
   attribute part { "Y" | "N" | "I" | "M" | "F" }?</pre></dd><dt>Element anchor</dt><dd><pre class="eg">
anchor = element anchor { anchor.content, anchor.attributes }

anchor.content = empty

anchor.attributes = att.typed.attributes</pre></dd><dt>Element seg</dt><dd><pre class="eg">
seg = element seg { seg.content, seg.attributes }

seg.content = <a class="link_odd" href="ref-macro.paraContent.html">macro.paraContent</a>

seg.attributes = att.segLike.attributes, attribute subtype { <a class="link_odd" href="ref-data.word.html">data.word</a> }?</pre></dd></dl></div></div></div><div class="div2" id="SACS"><h3>11.4  Correspondence and Alignment</h3><p><span id="id2494230"/>In this section we introduce the notions of
      <em>correspondence</em>, expressed by the <span class="att">corresp</span>
      attribute, and of <em>alignment</em>, which is a special
      kind of correspondence involving an ordered set of
      correspondences. Both cases may be represented using the
      <code>&lt;link&gt;</code> and <code>&lt;linkGrp&gt;</code> elements introduced in
      section <a class="link_ptr" href="SA.html#SAPT" title="Links">11.1  Links</a>. We also discuss the special case
      of alignment in time or <em>synchronization</em>, for which
      special purpose elements are proposed in section <a class="link_ptr" href="SA.html#SASY" title="Synchronization">11.5  Synchronization</a>.</p><div class="div3" id="SACS1"><h4>11.4.1  Correspondence</h4><div class="p"><span id="id2494284"/>A common requirement in text analysis is to represent
        correspondences between two or more parts of a single
        document, or between places in different documents. Provided
        that explicit elements are available to represent the parts or
        places to be linked, then the global linking attribute
        <span class="att">corresp</span> may be used to encode such correspondence,
        once it has been identified.
        <ul class="specList"><li><b><a href="ref-att.global.linking.html">att.global.linking</a></b> defines a set of attributes for hypertext and other linking,
which are enabled for all elements when the additional tag set for
linking is selected.</li></ul>
        This is one of the attributes made available by the mechanism
        described in the introduction to this chapter (<a class="link_ptr" href="SA.html" title="14">11  Linking, Segmentation, and Alignment</a>). Correspondence can also be expressed by means
        of the <code>&lt;link&gt;</code> element introduced in section <a class="link_ptr" href="SA.html#SAPT" title="Links">11.1  Links</a>.</div><p><span id="id2494323"/>Where the correspondence is between <em>spans</em>, the
        <code>&lt;seg&gt;</code> element should be used, if no other element is
        available. Where the correspondence is between
        <em>points</em>, the <code>&lt;anchor&gt;</code> element should be
        used, if no other element is available.</p><div class="p"><span id="id2494345"/>The use of the <span class="att">corresp</span> attribute with spans of
        content is illustrated by the following example:
<div class="pre"> <span class="element">&lt;title <span class="attribute">xml:id</span>="SHIRLEY"&gt;</span>Shirley<span class="element">&lt;/title&gt;</span>, which made<br/>its Friday night debut only a month ago, was<br/>not listed on <br/> <span class="element">&lt;name <span class="attribute">xml:id</span>="NBC"&gt;</span>NBC<span class="element">&lt;/name&gt;</span>'s new schedule,<br/>although <br/> <span class="element">&lt;seg <span class="attribute">corresp</span>="#NBC" <span class="attribute">xml:id</span>="NETWORK"&gt;</span>the network<span class="element">&lt;/seg&gt;</span><br/>says <br/> <span class="element">&lt;seg <span class="attribute">corresp</span>="#SHIRLEY" <span class="attribute">xml:id</span>="SHOW"&gt;</span>the show<span class="element">&lt;/seg&gt;</span><br/>still is being considered.</div>
        Here the anaphoric phrases the network
        and the show have been associated
        directly with the elements to which they refer by means of
        <span class="att">corresp</span> attributes. This mechanism is simple to
        apply, but has the drawback that it is not possible to specify
        more exactly what kind of correspondence is intended. Where
        this attribute is used, therefore, encoders are encouraged to
        specify their intent in the associated encoding declarations
        in the TEI Header.</div><div class="p"><span id="id2494421"/>Essentially, what the <span class="att">corresp</span> attribute does is
        to specify that the element that has the attribute and the
        element(s) the attribute points to are doubly linked.<a class="notelink" href="#Note92"><sup>92</sup></a> Therefore, we can also
        use the <code>&lt;link&gt;</code> and <code>&lt;linkGrp&gt;</code> elements defined in
        section <a class="link_ptr" href="SA.html#SAPT" title="Links">11.1  Links</a> to indicate correspondence among
        elements. Moreover, the use of these elements provides a
        convenient place to indicate what kind of correspondence is
        intended as in the following retagging of the preceding
        example.
<div class="pre"> <span class="element">&lt;title <span class="attribute">xml:id</span>="shirley"&gt;</span>Shirley<span class="element">&lt;/title&gt;</span>, which made<br/>its Friday night debut only a month ago, was not<br/>listed on <br/> <span class="element">&lt;name <span class="attribute">xml:id</span>="nbc"&gt;</span>NBC<span class="element">&lt;/name&gt;</span>'s new schedule,<br/>although <br/> <span class="element">&lt;seg <span class="attribute">xml:id</span>="network"&gt;</span>the network<span class="element">&lt;/seg&gt;</span> says<br/><br/> <span class="element">&lt;seg <span class="attribute">xml:id</span>="show"&gt;</span>the show<span class="element">&lt;/seg&gt;</span> still is being considered.<br/><br/> <span class="element">&lt;linkGrp <span class="attribute">type</span>="anaphoric_link" <span class="attribute">targFunc</span>="antecedent anaphor"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#shirley #show"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#nbc #network"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2494524"/>In the following example, we may use exactly the same mechanism to
express a correspondence amongst the anchors introduced following the
fifth word after English in a text:
<div class="pre_eg">English language. Except for not very&lt;anchor xml:id="eng1"/&gt;
&lt;!-- ... --&gt;
English at all at the time&lt;anchor xml:id="eng2"/&gt;
&lt;!-- ... --&gt;
English was still full of flaws&lt;anchor xml:id="eng3"/&gt;
&lt;!-- ... --&gt;
English. This was revised by young&lt;anchor xml:id="eng4"/&gt;
&lt;!-- ... --&gt;
&lt;linkGrp type="five-word collocates"&gt;
  &lt;link type="collocates of ENGLISH" targets="#eng1 #eng2 #eng3 #eng4"/&gt;
  &lt;!-- ... --&gt;
&lt;/linkGrp&gt;</div></div></div><div class="div3" id="SACSAL"><h4>11.4.2  Alignment of Parallel Texts</h4><div class="p"><span id="id2494556"/>One very important application area for the alignment of
          parallel texts is multilingual corpora. Consider, for
          example, the need to align ‘translation
          pairs’ of sentences drawn from a corpus such as
          the Canadian Hansard, in which each sentence is given in
          both English and French. Concerning this problem, Gale and
          Church write: <blockquote class="display"><p>Most English sentences match
          exactly one French sentence, but it is possible for an
          English sentence to match two or more French sentences. The
          first two English sentences [in the example below]
          illustrate a particularly hard case where two English
          sentences align to two French sentences. No smaller
          alignments are possible because the clause
          ‘...sales...were higher...’ in the first English
          sentence corresponds to (part of) the second French
          sentence. The next two alignments ... illustrate the more
          typical case where one English sentence aligns with exactly
          one French sentence. The final alignment matches two English
          sentences to a single French sentence. These alignments
          [which were produced by a computer program] agreed with the
          results produced by a human judge.<a class="notelink" href="#Note93"><sup>93</sup></a></p></blockquote></div><p><span id="id2494616"/>The alignment produced by Gale and Church's program can
          be expressed in four different ways. The encoder must first
          decide whether to represent the alignment in terms of points
          within each text (using the <code>&lt;anchor&gt;</code> element) or in
          terms of whole stretches of text, using the <code>&lt;seg&gt;</code>
          element. To some extent the choice will depend on the
          process by which the software works out where alignment
          occurs, and the intention of the encoder. Secondly, the
          encoder may elect to represent the actual encoding using
          either <span class="att">corresp</span> attributes attached to the
          individual <code>&lt;anchor&gt;</code> or <code>&lt;seg&gt;</code> elements, or
          using a free standing <code>&lt;linkGrp&gt;</code> element.</p><div class="p"><span id="id2494653"/>We present first a solution using <code>&lt;anchor&gt;</code>
          elements bearing only <span class="att">corresp</span> attributes:
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:lang</span>="en" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;anchor <span class="attribute">corresp</span>="#fa1" <span class="attribute">xml:id</span>="ea1"/&gt;</span>According to our survey, 1988<br/>  sales of mineral water and soft drinks were much higher than in 1987,<br/>  reflecting the growing popularity of these products. Cola drink<br/>  manufacturers in particular achieved above-average growth rates.<br/>  <span class="element">&lt;anchor <span class="attribute">corresp</span>="#fa2" <span class="attribute">xml:id</span>="ea2"/&gt;</span>The higher turnover was largely<br/>  due to an increase in the sales volume.<br/>  <span class="element">&lt;anchor <span class="attribute">corresp</span>="#fa3" <span class="attribute">xml:id</span>="ea3"/&gt;</span>Employment and investment levels also climbed.<br/>  <span class="element">&lt;anchor <span class="attribute">corresp</span>="#fa4" <span class="attribute">xml:id</span>="ea4"/&gt;</span>Following a two-year transitional period,<br/>  the new Foodstuffs Ordinance for Mineral Water came into effect on<br/>  April 1, 1988. Specifically, it contains more stringent requirements<br/>  regarding quality consistency and purity guarantees.<span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;div <span class="attribute">xml:lang</span>="fr" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;anchor <span class="attribute">corresp</span>="#ea1" <span class="attribute">xml:id</span>="fa1"/&gt;</span>Quant aux eaux minérales<br/>  et aux limonades, elles rencontrent toujours plus d'adeptes. En effet,<br/>  notre sondage fait ressortir des ventes nettement supérieures<br/>  à celles de 1987, pour les boissons à base de cola<br/>  notamment. <span class="element">&lt;anchor <span class="attribute">corresp</span>="#ea2" <span class="attribute">xml:id</span>="fa2"/&gt;</span>La progression des<br/>  chiffres d'affaires résulte en grande partie de l'accroissement<br/>  du volume des ventes. <span class="element">&lt;anchor <span class="attribute">corresp</span>="#ea3" <span class="attribute">xml:id</span>="fa3"/&gt;</span>L'emploi et<br/>  les investissements ont également augmenté.<br/>  <span class="element">&lt;anchor <span class="attribute">corresp</span>="#ea4" <span class="attribute">xml:id</span>="fa4"/&gt;</span>La nouvelle ordonnance fédérale<br/>  sur les denrées alimentaires concernant entre autres les eaux<br/>  minérales, entrée en vigueur le 1er avril 1988 après<br/>  une période transitoire de deux ans, exige surtout une plus<br/>  grande constance dans la qualité et une garantie de la<br/>  pureté.<span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><p><span id="id2494781"/>There is no requirement that the <span class="att">corresp</span>
        attribute be specified in both English and French texts, since
        (as noted above) this attribute is defined as representing a
        mutual association. However, it may simplify processing to do
        so, and also avoids giving the impression that the English is
        translating the French, or vice versa. More seriously, this
        encoding does not make explicit the fact that it is in fact
        the entire stretch of text between the anchors which is being
        aligned, not simply the points themselves. If for example one
        text contained material omitted from the other, this approach
        would not be appropriate.</p><div class="p"><span id="id2494812"/>We now present the same passage using the alternative
        <code>&lt;linkGrp&gt;</code> mechanism and marking explicitly the segments
        which have been aligned:
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="div-e" <span class="attribute">xml:lang</span>="en" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e_1"&gt;</span>According to our survey, 1988 sales of mineral
      water and soft drinks were much higher than in 1987,
      reflecting the growing popularity of these products. Cola
      drink manufacturers in particular achieved above-average
      growth rates.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e_2"&gt;</span>The higher turnover was largely due to an
      increase in the sales volume.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e_3"&gt;</span>Employment and investment levels also climbed.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e_4"&gt;</span>Following a two-year transitional period, the new
      Foodstuffs Ordinance for Mineral Water came into effect on
      April 1, 1988. Specifically, it contains more stringent
      requirements regarding quality consistency and purity
      guarantees.<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;div <span class="attribute">xml:id</span>="div-f" <span class="attribute">xml:lang</span>="fr" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="f_1"&gt;</span>Quant aux eaux minérales et aux limonades,
      elles rencontrent toujours plus d'adeptes. En effet, notre
      sondage fait ressortir des ventes nettement
      supérieures à celles de 1987, pour les
      boissons à base de cola notamment.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="f_2"&gt;</span>La progression des chiffres d'affaires
      résulte en grande partie de l'accroissement du volume
      des ventes.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="f_3"&gt;</span>L'emploi et les investissements ont
      également augmenté.<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="f_4"&gt;</span>La nouvelle ordonnance fédérale sur
      les denrées alimentaires concernant entre autres les
      eaux minérales, entrée en vigueur le 1er avril
      1988 après une période transitoire de deux
      ans, exige surtout une plus grande constance dans la
      qualité et une garantie de la pureté.<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;linkGrp <span class="attribute">type</span>="alignment" <span class="attribute">domains</span>="div-e div-f"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e_1 #f_1"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e_2 #f_2"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e_3 #f_3"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e_4 #f_4"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2494959"/>Note that use of the <code>&lt;ab&gt;</code> element allows us to mark up the
orthographic sentences in both languages independently of the alignment:
the first translation pair in this example might be marked up as
follows:
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="english" <span class="attribute">xml:lang</span>="en" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;ab <span class="attribute">xml:id</span>="english1"&gt;</span><br/>   <span class="element">&lt;s&gt;</span>According to our survey, 1988 sales of mineral water and soft
      drinks were much higher than in 1987, reflecting the growing popularity
      of these products.<span class="element">&lt;/s&gt;</span><br/>   <span class="element">&lt;s&gt;</span>Cola drink manufacturers in particular achieved above-average
      growth rates.<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;/ab&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;div <span class="attribute">xml:id</span>="frencg" <span class="attribute">xml:lang</span>="fr" <span class="attribute">type</span>="subsection"&gt;</span><br/>  <span class="element">&lt;ab <span class="attribute">xml:id</span>="french1"&gt;</span><br/>   <span class="element">&lt;s <span class="attribute">xml:id</span>="fs1"&gt;</span>Quant aux eaux minérales et aux limonades, elles
      rencontrent toujours plus d'adeptes.<span class="element">&lt;/s&gt;</span><br/>   <span class="element">&lt;s <span class="attribute">xml:id</span>="fs2"&gt;</span>En effet, notre sondage fait ressortir des ventes nettement
      supérieures à celles de 1987, pour les boissons à
      base de cola notamment.<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;/ab&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div></div><div class="div3" id="SACSXA"><h4>11.4.3  A Three-way Alignment</h4><p><span id="id2495053"/>The preceding encoding of the alignment of parallel passages from
two texts requires that those texts and the alignment all be part of
the same document. If the texts are in separate documents, then
complete URIs, whether absolute or relative (section <a class="link_ptr" href="SA.html" title="14">11  Linking, Segmentation, and Alignment</a>), will be required. These external pointers may appear
anywhere within the document, but if they are created solely for use
in encoding links, they may for convenience be grouped within the
<code>&lt;linkGrp&gt;</code> (or other grouping element that uses them for
linking).</p><div class="p"><span id="id2495074"/>To demonstrate this facility, we consider how we might encode the
alignments in an extract from Comenius' <i>Orbis Sensualium
Pictus</i>.
<div class="float fullpage" id="COMENIUS"><img src="./compic.png" alt="The figure shows the page from the "/></div>
Each topic covered in this work has three parts: a
picture, a prose text in Latin describing the topic, and a
carefully-aligned translation of the Latin into English, German or some
other vernacular. Key terms in the two texts are typographically
distinct, and are linked to the picture by numbers, which appear in the
two texts and within the picture as well.<a class="notelink" href="#Note94"><sup>94</sup></a></div><div class="p"><span id="id2495132"/>First, we consider the text portions. The English and Latin portions
have been encoded as distinct <code>&lt;div&gt;</code> elements. Identifiers have
been attached to each typographic line, but no other encoding added, to
simplify the example.
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="e98" <span class="attribute">xml:lang</span>="en" <span class="attribute">type</span>="lesson"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>The Study<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9801"&gt;</span>The Study<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9802"&gt;</span>is a place<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9803"&gt;</span>where a Student,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9804"&gt;</span>a part from men,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9805"&gt;</span>sitteth alone,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9806"&gt;</span>addicted to his Studies,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9807"&gt;</span>whilst he readeth<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="e9808"&gt;</span>Books,<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;div <span class="attribute">xml:id</span>="l98" <span class="attribute">xml:lang</span>="la" <span class="attribute">type</span>="lesson"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>Muséum<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9801"&gt;</span>Museum<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9802"&gt;</span>est locus<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9803"&gt;</span>ubi Studiosus,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9804"&gt;</span>secretus ab hominibus,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9805"&gt;</span>solus sedet,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9806"&gt;</span>Studiis deditus,<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9807"&gt;</span>dum lectitat<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="l9808"&gt;</span>Libros,<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2495297"/>Next we consider the non-textual parts of the page. Encoding this
requires providing two distinct components: firstly a digitized rendering of the
page itself, and secondly a representation of the areas within that image
which are to be aligned. The XML notation SVG (Standard Vector
Graphics) provides appropriate facilities for both these
requirements:
<div class="pre"> <span class="element">&lt;svg xmlns="http://www.w3.org/2000/svg"&gt;</span><br/>  <span class="element">&lt;image xmlns="http://www.w3.org/2000/svg"<br/>    <span class="attribute">xlink:href</span>="p1764.png"<br/>    <span class="attribute">width</span>="597"<br/>    <span class="attribute">height</span>="897"<br/>    <span class="attribute">id</span>="p9801"/&gt;</span><br/>  <span class="element">&lt;rect xmlns="http://www.w3.org/2000/svg"<br/>    <span class="attribute">x</span>="86.5"<br/>    <span class="attribute">y</span>="161.86218"<br/>    <span class="attribute">width</span>="440.5"<br/>    <span class="attribute">height</span>="303"<br/>    <span class="attribute">style</span>="fill:none;opacity:1;stroke:#eaac24;stroke-width:2"/&gt;</span><br/>  <span class="element">&lt;view xmlns="http://www.w3.org/2000/svg" <span class="attribute">id</span>="p981" <span class="attribute">viewBox</span>="86.5 161.86218 440.5 303"/&gt;</span><br/>  <span class="element">&lt;rect xmlns="http://www.w3.org/2000/svg"<br/>    <span class="attribute">x</span>="337.5"<br/>    <span class="attribute">y</span>="222.36218"<br/>    <span class="attribute">width</span>="158"<br/>    <span class="attribute">height</span>="222.5"<br/>    <span class="attribute">style</span>="fill:none;opacity:1;stroke:#eaac24;stroke-width:2"/&gt;</span><br/>  <span class="element">&lt;view xmlns="http://www.w3.org/2000/svg" <span class="attribute">id</span>="p982" <span class="attribute">viewBox</span>="337.5 222.36218 158 222.5"/&gt;</span><br/>  <span class="element">&lt;rect xmlns="http://www.w3.org/2000/svg"<br/>    <span class="attribute">x</span>="252"<br/>    <span class="attribute">y</span>="162.36218"<br/>    <span class="attribute">width</span>="270"<br/>    <span class="attribute">height</span>="153"<br/>    <span class="attribute">style</span>="fill:none;opacity:1;stroke:#eaac24;stroke-width:2"/&gt;</span><br/>  <span class="element">&lt;view xmlns="http://www.w3.org/2000/svg" <span class="attribute">id</span>="p983" <span class="attribute">viewBox</span>="252 162.36218 270 153"/&gt;</span><br/> <span class="element">&lt;/svg&gt;</span></div>
This example of SVG defines three rectangles 
at the locations with the specified x and y co-ordinates. A view is
defined on these, enabling them to be 
mapped by an SVG processor to the image found at the URL specified
(<strong>p1764.png</strong>). It also defines unique identifiers for
the whole image, and the three views of it, which we will use within our
alignment, as shown next (for further discussion of the handling of
 images and graphics, see section <a class="link_ptr" href="FT.html#FTGRA" title="Specific Elements for Graphic Images">19.3  Specific Elements for Graphic Images</a>; for further
 discussion of using non-TEI XML vocabularies such as SVG within a TEI
 document, see section <a class="link_ptr" href="ST.html#ST-aliens" title="Combining TEI and non-TEI modules">2.2.3  Combining TEI and non-TEI modules</a>).
</div><div class="p"><span id="id2495418"/>As printed, the Comenius text exhibits three kinds of alignment.
 <ol><li>The English and Latin portions are printed in two
   parallel columns, with corresponding phrases, (represented above by
   <code>&lt;seg&gt;</code> elements), more or less next to each other.</li><li>Particular words or phrases are marked as terms in the
   two languages by a change of rendition: the English text, which
   otherwise uses black letter type throughout, has the words
   The Study, a Student,
   Studies, and Books in
   a roman font; in the Latin text, which is printed in roman, the
   corresponding words (Museum,
   Studiosus, Studiis,
   and Libros) are all in italic.</li><li>Numbered labels appear within the text portions,
   linking keywords to each other and to sections of the picture.
   These labels, which have been left out of the above encoding, are
   attached to the first, third, and last segments in each language
   quoted below, and also appear (rather indistinctly) within the
   picture itself. Thus, the images of the study, the student, and his
   books are each aligned with the correct term for them in the two
   languages. 
   </li></ol></div><div class="p"><span id="id2495491"/>The first kind of alignment might be represented by using the
<span class="att">corresp</span> attribute on the <code>&lt;seg&gt;</code> element. The second
kind might be represented by using the <code>&lt;gloss&gt;</code> and <code>&lt;term&gt;</code>
mechanism described in section <a class="link_ptr" href="CO.html#COHQU" title="Terms, Glosses, Equivalents and Descriptions">4.3.4  Terms, Glosses, Equivalents and Descriptions</a>. The third kind of
alignment might be represented using pointers embedded within the
texts, for example: 
<div class="pre_eg">...
      &lt;seg xml:id="e9803"&gt;where a &lt;ref n="2" target="#P982"&gt;Student&lt;/ref&gt;,&lt;/seg&gt;
...
      &lt;seg xml:id="l9803"&gt;ubi &lt;ref n="2" target="#P982"&gt;Studiosus&lt;/ref&gt;,&lt;/seg&gt;
...</div>

We choose however to use
the <code>&lt;link&gt;</code> element, since this provides a more efficient way of
representing the three-way alignment between English, Latin and picture
without redundancy.
<div class="pre"> <span class="element">&lt;linkGrp <span class="attribute">type</span>="alignment"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9801 #l9801 #p981"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9802 #l9802"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9803 #l9803 #p982"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9804 #l9804"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9805 #l9805"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9806 #l9806"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9807 #l9807"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#e9808 #l9808 #p983"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><p><span id="id2495574"/>This map, of course, only aligns whole segments and image portions,
since these are the only parts of our encoding which bear identifiers
and can therefore be pointed to. To add to it the alignment between
the typographically distinct words mentioned above, new elements must
be defined, either within the text itself or externally by using stand
off techniques. Encoding these word pairs as <code>&lt;term&gt;</code>
and <code>&lt;gloss&gt;</code>, although intuitively obvious, requires a
non-trivial decision as to whether the Latin text is glossing the
English, or vice-versa. Tagging all the marked words as <code>&lt;term&gt;</code>
avoids the difficult decision, but might be thought by some encoders
to convey the wrong information about the words in question. Simply
tagging them as additional embedded <code>&lt;seg&gt;</code> elements with
identifiers that can be aligned like the others is also a possibility.
</p><div class="p"><span id="id2495607"/>These solutions all require the addition of further markup to the text. This
may pose no problems, or it may be infeasible, for example because the text is
held on a read-only medium. If it is not feasible to add more markup
to the original text, some form of stand-off markup will be
needed. Any item within the text that can be pointed to using the
various pointer schemes discussed in this chapter may be used, not
simply those which rely on the existence of an <span class="att">xml:id</span>
attribute. For example, if the segments in our example did not have
identifiers, they could still be addressed using the notation
introduced in <a class="link_ptr" href="SA.html#SAES" title="W3C element() Scheme">11.2.3  W3C element() Scheme</a> above. Suppose our example had been
more lightly tagged, as follows:<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="E98" <span class="attribute">xml:lang</span>="en" <span class="attribute">type</span>="lesson"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>The Study<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>The Study<span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>is a place<span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>where a Student,<span class="element">&lt;/ab&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;div <span class="attribute">xml:id</span>="L98" <span class="attribute">xml:lang</span>="la" <span class="attribute">type</span>="lesson"&gt;</span><br/>  <span class="element">&lt;head&gt;</span>Muséum<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>Museum<span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>est locus<span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;ab&gt;</span>ubi Studiosus,<span class="element">&lt;/ab&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2495681"/>To express the same alignment mentioned above, we could use an
Xpath expression to identify the required <code>&lt;seg&gt;</code> elements:

<div class="pre"> <span class="element">&lt;linkGrp <span class="attribute">type</span>="alignment"&gt;</span><br/>  <span class="element">&lt;link<br/>    <span class="attribute">targets</span>="#element(L98/2) #element(E98/2) #p981"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#element(L98/3) #element(E98/3)"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div>
In the absence of any markup around individual substrings of
the element content, the string-range pointer scheme discussed in <a class="link_ptr" href="SA.html#SATSSR" title="string-range(pointer, offset [, length])">11.2.4.5  string-range(pointer, offset [, length])</a> may also be helpful: for example, to indicate that the words
Studies and Studiis
correspond, we might express the link between them as follows:
<div class="pre"> <span class="element">&lt;link<br/>   <span class="attribute">targets</span>="#string-range(xpath1(id('e9806')),16,6)                #string-range(xpath1(id('l9806')),0,7)"/&gt;</span></div></div></div></div><div class="div2" id="SASY"><h3>11.5  Synchronization</h3><p><span id="id2495746"/>In the previous section we discussed two particular kinds of
alignment: alignment of parallel texts in different languages; and
alignment of texts and portions of an image. In this section we address
another specialized form of alignment: synchronization. The need to
mark the relative positions of text components with respect to time
arises most naturally and frequently in transcribed spoken texts, but it
may arise in any text in which quoted speech occurs, or events are
described within a time frame. The methods described here are also
generalizable for other kinds of alignment (for example, alignment of
text elements with respect to space).</p><div class="div3" id="SASYNC"><h4>11.5.1  Aligning Synchronous Events</h4><p><span id="id2495774"/>To mark synchronous elements, the <span class="att">synch</span> attribute, which
is one of the linking attributes that are available for all text
elements, may be used. 
Alternatively, the <code>&lt;link&gt;</code> and <code>&lt;linkGrp&gt;</code> elements may be
used to make explicit the fact that the synchronous elements are
aligned.</p><div class="p"><span id="id2495793"/>To illustrate the use of these mechanisms for marking synchrony,
consider the following representation of a spoken text:
<div class="pre_eg">B: The first time in twenty five years, we've cooked Christmas
   (unclear) for a blooming great load of people.
A: So you're [1] (unclear) [2]
B: [1] It will be [2] nice in a way, but, [3] be strange. [4]
A: [3] Yeah [4], yeah, cos it, it's [5] the [6]
B: [5] not [6]</div></div><p><span id="id2495809"/>This representation uses numbers in brackets to mark the points at
which speakers overlap each other. For example, the [1]
in A's first speech is to be understood as coinciding with the
[1] in B's second speech.<a class="notelink" href="#Note95"><sup>95</sup></a></p><div class="p"><span id="id2495830"/>To encode this we use the  spoken texts module, described
in chapter <a class="link_ptr" href="TS.html" title="11">8  Transcriptions of Speech</a>, together with the module
described in the present chapter. First, we transcribe this text,
marking the synchronous points with <code>&lt;anchor&gt;</code> elements, and
providing a <span class="att">synch</span> attribute on one of each of the pairs of
synchronous anchors. As noted in the example given above (section <a class="link_ptr" href="SA.html#SACSAL" title="Alignment of Parallel Texts">11.4.2  Alignment of Parallel Texts</a>), correspondence, and hence synchrony, is a
symmetric relation; therefore the attribute need only be specified on
one of the pairs of synchronous anchors.
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="BNC-d1" <span class="attribute">type</span>="convers"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="u2b" <span class="attribute">who</span>="#b"&gt;</span>
        The first time in twenty five years,
        we've cooked Christmas <span class="element">&lt;unclear&gt;</span> for a blooming great
        load of people.<span class="element">&lt;/unclear&gt;</span><br/>  <span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="u3a" <span class="attribute">who</span>="#a"&gt;</span>So you're
                    <span class="element">&lt;anchor <span class="attribute">synch</span>="#t1b" <span class="attribute">xml:id</span>="t1a"/&gt;</span><br/>   <span class="element">&lt;unclear&gt;</span><br/>    <span class="element">&lt;anchor <span class="attribute">synch</span>="#t2b" <span class="attribute">xml:id</span>="t2a"/&gt;</span><br/>   <span class="element">&lt;/unclear&gt;</span><br/>  <span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="u3b" <span class="attribute">who</span>="#b"&gt;</span><br/>   <span class="element">&lt;anchor <span class="attribute">xml:id</span>="t1b"/&gt;</span>It will be <span class="element">&lt;anchor <span class="attribute">xml:id</span>="t2b"/&gt;</span><br/>                      nice in a way, but, <span class="element">&lt;anchor <span class="attribute">xml:id</span>="t3b"/&gt;</span><br/>                      be strange.<span class="element">&lt;anchor <span class="attribute">xml:id</span>="t4b"/&gt;</span><br/>  <span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="u4a" <span class="attribute">who</span>="#a"&gt;</span><br/>   <span class="element">&lt;anchor <span class="attribute">synch</span>="#t3b" <span class="attribute">xml:id</span>="t3a"/&gt;</span>Yeah<br/>                      <span class="element">&lt;anchor <span class="attribute">synch</span>="#t4b" <span class="attribute">xml:id</span>="t4a"/&gt;</span>, yeah, cos it, its<br/>                      <span class="element">&lt;anchor <span class="attribute">synch</span>="#t5b" <span class="attribute">xml:id</span>="t5a"/&gt;</span>the<br/>                      <span class="element">&lt;anchor <span class="attribute">synch</span>="#t6b" <span class="attribute">xml:id</span>="t6a"/&gt;</span><br/>  <span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="u4b" <span class="attribute">who</span>="#b"&gt;</span><br/>   <span class="element">&lt;anchor <span class="attribute">xml:id</span>="t5b"/&gt;</span>not<span class="element">&lt;anchor <span class="attribute">xml:id</span>="t6b"/&gt;</span><br/>  <span class="element">&lt;/u&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2496005"/>We can encode this same example using <code>&lt;link&gt;</code> and
<code>&lt;linkGrp&gt;</code> elements to make the temporal alignment explicit. A <code>&lt;back&gt;</code>
element has been used to enclose the <code>&lt;linkGrp&gt;</code> element, but the links
may be located anywhere the encoder finds convenient:
<div class="pre"> <span class="element">&lt;back&gt;</span><br/>  <span class="element">&lt;linkGrp<br/>    <span class="attribute">xml:id</span>="lg1"<br/>    <span class="attribute">domains</span>="BNC-d1 BNC-d1"<br/>    <span class="attribute">targFunc</span>="speaker.a speaker.b"<br/>    <span class="attribute">type</span>="synchronous_alignment"&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l1" <span class="attribute">targets</span>="#t1a #t1b"/&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l2" <span class="attribute">targets</span>="#t2a #t2b"/&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l3" <span class="attribute">targets</span>="#t3a #t3b"/&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l4" <span class="attribute">targets</span>="#t4a #t4b"/&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l5" <span class="attribute">targets</span>="#t5a #t5b"/&gt;</span><br/>   <span class="element">&lt;link <span class="attribute">xml:id</span>="l6" <span class="attribute">targets</span>="#t6a #t6b"/&gt;</span><br/>  <span class="element">&lt;/linkGrp&gt;</span><br/> <span class="element">&lt;/back&gt;</span></div>
The
<span class="att">xml:id</span> attributes are provided for the <code>&lt;link&gt;</code> and
<code>&lt;linkGrp&gt;</code> elements here for reasons discussed  in the next
section, <a class="link_ptr" href="SA.html#SASYMP" title="Placing Synchronous Events in Time">11.5.2  Placing Synchronous Events in Time</a>. 
</div><div class="p"><span id="id2496111"/>As with other forms of alignment, synchronization may be expressed
between stretches of speech as well as between points. When complete
utterances are synchronous, for example, if one person says
What? and another No! at the same time,
that can be represented without <code>&lt;anchor&gt;</code> elements as follows.
<div class="pre"> <span class="element">&lt;u <span class="attribute">synch</span>="#u02" <span class="attribute">xml:id</span>="u01" <span class="attribute">who</span>="#a"&gt;</span>What?<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;u <span class="attribute">xml:id</span>="u02" <span class="attribute">who</span>="#b"&gt;</span>No!<span class="element">&lt;/u&gt;</span></div></div><div class="p"><span id="id2496151"/>A simple way of expressing <em>overlap</em> (where one speaker
starts speaking before another has finished) is thus to use the
<code>&lt;seg&gt;</code> element to encode the overlapping portions of speech. For
example,
<div class="pre"> <span class="element">&lt;u <span class="attribute">who</span>="#a"&gt;</span> So you're <span class="element">&lt;unclear <span class="attribute">synch</span>="#u-b1"/&gt;</span><br/> <span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;u <span class="attribute">who</span>="#b"&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">xml:id</span>="u-b1"&gt;</span> It will be <span class="element">&lt;/seg&gt;</span> nice in a way, but,<br/>            <span class="element">&lt;seg <span class="attribute">synch</span>="#u-a3"&gt;</span> be strange. <span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;u <span class="attribute">who</span>="#a"&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">xml:id</span>="u-a3"&gt;</span> Yeah <span class="element">&lt;/seg&gt;</span>, yeah, cos it,<br/>            its <span class="element">&lt;seg <span class="attribute">synch</span>="#u-b2"&gt;</span> the <span class="element">&lt;/seg&gt;</span><br/> <span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;u <span class="attribute">xml:id</span>="u-b2" <span class="attribute">who</span>="#b"&gt;</span> not <span class="element">&lt;/u&gt;</span></div>
Note in this encoding how synchronization has been effected between an
empty <code>&lt;unclear&gt;</code> element and a <code>&lt;seg&gt;</code>, and between an entire
<code>&lt;u&gt;</code> element and another <code>&lt;seg&gt;</code>, using the <span class="att">synch</span>
attribute. Alternatively, a <code>&lt;linkGrp&gt;</code> could be used in the same
way as above.</div></div><div class="div3" id="SASYMP"><h4>11.5.2  Placing Synchronous Events in Time</h4><div class="p"><span id="id2496260"/>A synchronous alignment specifies which points in a spoken text occur
at the same time, and the order in which they occur, but does not say at
what time those points actually occur. If that information is available
to the encoder it can be represented by means of the <code>&lt;when&gt;</code> and
<code>&lt;timeline&gt;</code> elements, whose description and attributes are the
following:
<ul class="specList"><li><b>&lt;<a href="ref-when.html">when</a>&gt;</b> (when) indicates a point in time either relative to other elements in the
same timeline tag, or absolutely.<table class="attList"><tr><td class="Attribute">absolute</td><td colspan="2">supplies an absolute value for the time.</td></tr><tr><td class="Attribute">interval</td><td colspan="2">specifies the numeric portion of a time interval</td></tr><tr><td class="Attribute">unit</td><td colspan="2">specifies the unit of time in which the  interval
value is expressed, if this is not inherited from the parent timeLine.</td></tr><tr><td class="Attribute">since</td><td colspan="2">identifies the reference point for determining the time of the
current when element, which is obtained by adding the interval to the
time of the reference point.</td></tr></table></li><li><b>&lt;<a href="ref-timeline.html">timeline</a>&gt;</b> (timeline) provides a set of ordered points in time which can be linked to
elements of a spoken text to create a temporal alignment of that text.<table class="attList"><tr><td class="Attribute">origin</td><td colspan="2">designates the origin of the timeline, i.e. the time at which it
begins.</td></tr><tr><td class="Attribute">interval</td><td colspan="2">specifies the numeric portion of a time interval</td></tr><tr><td class="Attribute">unit</td><td colspan="2">specifies the unit of time corresponding to the
	interval value of the timeline or of its
	constituent points in time.</td></tr></table></li></ul></div><p><span id="id2496290"/>Each <code>&lt;when&gt;</code> element indicates a point in time, either directly
by means of the <span class="att">absolute</span> attribute, whose value is a string
which specifies a particular time, or indirectly by means of the
<span class="att">since</span> attribute, which points to another <code>&lt;when&gt;</code>. If
the <span class="att">since</span> is used, then the <span class="att">interval</span> and
<span class="att">unit</span> attributes should also be used to indicate the amount of
time that has elapsed since the time specified by the element pointed to
by the <span class="att">since</span> attribute; the value <span class="val">-1</span>
can be given to indicate that the interval is unknown.</p><p><span id="id2496334"/>If the <code>&lt;when&gt;</code> elements are uniformly spaced in time, then the
<span class="att">interval</span> and <span class="att">unit</span> values need be given once in the
<code>&lt;timeline&gt;</code>, and not repeated in any of the <code>&lt;when&gt;</code>
elements. If the intervals vary, but the units are all the same, then
the <span class="att">unit</span> attribute alone can be given in the
<code>&lt;timeline&gt;</code> element, and the <span class="att">interval</span> attribute given
in the <code>&lt;when&gt;</code> element.</p><p><span id="id2496376"/>The <span class="att">origin</span> attribute in the <code>&lt;timeline&gt;</code> element
points to a <code>&lt;when&gt;</code> element which specifies the reference or
origin for the timings within the <code>&lt;timeline&gt;</code>; this must, of
course, specify its position in time absolutely.</p><div class="p"><span id="id2496398"/>The following <code>&lt;timeline&gt;</code> might be used to accompany the marked
up conversation shown in the preceding section:
<div class="pre"> <span class="element">&lt;timeline <span class="attribute">xml:id</span>="tl1" <span class="attribute">origin</span>="#w0" <span class="attribute">unit</span>="ms"&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w0" <span class="attribute">absolute</span>="11:30:00"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w1" <span class="attribute">interval</span>="unknown" <span class="attribute">since</span>="#w0"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w2" <span class="attribute">interval</span>="100" <span class="attribute">since</span>="#w1"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w3" <span class="attribute">interval</span>="200" <span class="attribute">since</span>="#w2"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w4" <span class="attribute">interval</span>="150" <span class="attribute">since</span>="#w3"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w5" <span class="attribute">interval</span>="250" <span class="attribute">since</span>="#w4"/&gt;</span><br/>  <span class="element">&lt;when <span class="attribute">xml:id</span>="w6" <span class="attribute">interval</span>="100" <span class="attribute">since</span>="#w5"/&gt;</span><br/> <span class="element">&lt;/timeline&gt;</span></div>
The information in this <code>&lt;timeline&gt;</code> could now be linked to the
information in the <code>&lt;linkGrp&gt;</code> which provides the temporal
alignment (synchronization) for the text, as follows:
<div class="pre"> <span class="element">&lt;linkGrp<br/>   <span class="attribute">type</span>="temporal_specification"<br/>   <span class="attribute">domains</span>="lg1 tl1"<br/>   <span class="attribute">targFunc</span>="synch.points when"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l1 #w1"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l2 #w2"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l3 #w3"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l4 #w4"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l5 #w5"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#l6 #w6"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2496537"/>To avoid the need for two distinct link groups (one marking the
synchronization of anchors with each other, and the other marking their
alignment with points on the time line) it would be better to link the
<code>&lt;when&gt;</code> elements with the synchronous points directly:
<div class="pre"> <span class="element">&lt;linkGrp<br/>   <span class="attribute">type</span>="temporal_specification"<br/>   <span class="attribute">domains</span>="BNC-d1 BNC-d1 tl1"<br/>   <span class="attribute">targFunc</span>="speaker.a speaker.b when"&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t1a #t1b #w1"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t2a #t2b #w2"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t3a #t3b #w3"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t4a #t4b #w4"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t5a #t5b #w5"/&gt;</span><br/>  <span class="element">&lt;link <span class="attribute">targets</span>="#t6a #t6b #w6"/&gt;</span><br/> <span class="element">&lt;/linkGrp&gt;</span></div></div><div class="p"><span id="id2496592"/>Finally, suppose that a digitized audio recording is also
available, and an XML file that asigns identifiers to the various
temporal spans of sound is available. For example, the following
Synchronized Multimedia Integration Language (SMIL, pronounced
"smile") fragment:
<div class="pre_eg">
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au1" begin="05.2s" /&gt;
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au2" begin="05.7s" /&gt;
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au3" begin="05.9s" /&gt;
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au4" begin="06.3s" /&gt;
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au5" begin="06.9s" /&gt;
&lt;audio src="rtsp://soundstage.pi.cnr.it:554/home/az/bncSound/xmas4lots.mp3" 
       xml:id="au6" begin="07.4s" /&gt;
</div>
URIs pointing to the <code>&lt;audi&gt;</code> elements could also
be included as a fourth component in each of the above <code>&lt;link&gt;</code>
elements, thus providing a synchronized audio track to complement the
transcribed text.</div><p><span id="id2496631"/>For further discussion of this and related aspects of encoding
transcribed speech, refer to chapter <a class="link_ptr" href="TS.html" title="11">8  Transcriptions of Speech</a>.</p><div class="p"><span id="id2496641"/>The <code>&lt;when&gt;</code> and <code>&lt;timeline&gt;</code> elements are defined as
follows:
<div class="specgrp"><span id="DSASYMP"/><b>Specification group 109: Temporal specification</b><dl><dt>Element when</dt><dd><pre class="eg">
when = element when { when.content, when.attributes }

when.content = empty

when.attributes =
   attribute absolute { <a class="link_odd" href="ref-data.temporal.html">data.temporal</a> }?,
   attribute unit { <a class="link_odd" href="ref-data.enumerated.html">data.enumerated</a> }?,
   attribute interval { xsd:float { minExclusive = "0" } | "unknown" }?,
   attribute since { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> }?</pre></dd><dt>Element timeline</dt><dd><pre class="eg">
timeline = element timeline { timeline.content, timeline.attributes }

timeline.content = <a class="link_odd" href="ref-when.html">when</a>+

timeline.attributes =
   attribute origin { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> },
   attribute unit { <a class="link_odd" href="ref-data.enumerated.html">data.enumerated</a> }?,
   attribute interval
   {
      xsd:float { minExclusive = "0" } | "regular" | "irregular"
   }?</pre></dd></dl></div></div></div></div><div class="div2" id="SAIE"><h3>11.6  Identical Elements and Virtual Copies</h3><p><span id="id2497415"/>This section introduces the notion of a <em>virtual element</em>,
that is, an element which is not explicitly present in a text, but the
presence of which an application can infer from the encoding supplied.
In this section, we are concerned with virtual elements made by simply
cloning existing elements. In the next section (<a class="link_ptr" href="SA.html#SAAG" title="Aggregation">11.7  Aggregation</a>), we
discuss virtual elements made by aggregating existing elements.</p><div class="p"><span id="id2497434"/>It is useful to be able to represent the fact that one element of
text is identical to others, for analytical purposes, or (especially if
the elements have lengthy content) to obviate the need to repeat the
content. For example, consider the repetition of the <span class="tag">&lt;date&gt;</span>
element in the following material:
        <div class="pre"> <span class="element">&lt;p&gt;</span>In small clumsy letters he wrote:
<span class="element">&lt;q <span class="attribute">rend</span>="centered italic"&gt;</span><br/>   <span class="element">&lt;date <span class="attribute">xml:id</span>="d840404"&gt;</span>April 4th,
1984<span class="element">&lt;/date&gt;</span>.<span class="element">&lt;/q&gt;</span><br/> <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;p&gt;</span>He sat back. A sense of complete helplessness had
descended upon him. ...<span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;p&gt;</span>His small but childish handwriting straggled up
and down the page, shedding first its capital letters
and finally even its full stops:
<span class="element">&lt;q <span class="attribute">rend</span>="italic"&gt;</span><br/>   <span class="element">&lt;date&gt;</span>April 4th, 1984<span class="element">&lt;/date&gt;</span>.<br/>  Last night to the flicks. ... <span class="element">&lt;/q&gt;</span><br/> <span class="element">&lt;/p&gt;</span></div>
Suppose now that we wish to encode the fact that the second
<code>&lt;date&gt;</code> element above has identical content to the first. The
<span class="att">sameAs</span> attribute is provided for this purpose. Using it, we
can recode the last line of the above example as follows:
<div class="pre"> <span class="element">&lt;date <span class="attribute">sameAs</span>="#d840404" <span class="attribute">rend</span>="italic"&gt;</span>April 4th, 1984<span class="element">&lt;/date&gt;</span><br/>Last night to the flicks ... </div></div><p><span id="id2497506"/>The <span class="att">sameAs</span> attribute may be used to document the fact
that two elements have identical content. It may be regarded as a
special kind of link. It should only be attached to an element with
identical content to that it indicates, or to one the content of which
clearly designates it as a repetition, such as the word
repeat or bis in the
representation of the chorus of a song, the second time it is to be
sung. The relation specified by the <span class="att">sameAs</span> attribute is
symmetric: if a chorus is repeated three times and each repetition
bears a <span class="att">sameAs</span> attribute indicating the first occurrence of
the element concerned, it is implied that each chorus is identical,
and there is no need for the first occurrence to specify any of its
copies.</p><div class="p"><span id="id2497540"/>The <span class="att">copyOf</span> attribute is used in a similar way to
indicate that the content of the element bearing it is identical to
that of another. The difference is that the content is not itself
repeated. The effect of this attribute is thus to create a
<em>virtual copy</em> of the element indicated. Using this
attribute, the repeated date in the first example above could be
recoded as follows:
<div class="pre"> <span class="element">&lt;date <span class="attribute">rend</span>="italic" <span class="attribute">copyOf</span>="#d840404"/&gt;</span></div></div><p><span id="id2497566"/>An application program should replace whatever is the actual content
of an element bearing a <span class="att">copyOf</span> attribute with the content of
the element specified by it. If the content of the element specified
includes other elements, these will become embedded within the element
bearing the attribute. Care must be taken to ensure that the document
is valid both before and after this embedding takes
place. If, for example, the element bearing a <span class="att">copyOf</span>
attribute requires a mandatory sub-component, then this component must
be present (though possibly empty), even though it will be replaced by
the content of the targetted element.</p><div class="p"><span id="id2497588"/>The following example demonstrates how the <span class="att">copyOf</span>
attribute may be used in conjunction with the <code>&lt;seg&gt;</code> element to
highlight the differences between almost identical repetitions:
<div class="pre"> <span class="element">&lt;sp <span class="attribute">who</span>="#mikado"&gt;</span><br/>  <span class="element">&lt;l&gt;</span>My <span class="element">&lt;seg <span class="attribute">xml:id</span>="Mik-l1s"&gt;</span>object all sublime<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l&gt;</span>I shall <span class="element">&lt;seg <span class="attribute">xml:id</span>="Mik-l2s"&gt;</span>achieve in time<span class="element">&lt;/seg&gt;</span>—<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l3"&gt;</span>To let <span class="element">&lt;seg <span class="attribute">xml:id</span>="l3s"&gt;</span>the punishment fit the crime<span class="element">&lt;/seg&gt;</span>,<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l4"&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">copyOf</span>="#Mik-l3s"/&gt;</span>;<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l5"&gt;</span>And make each pris'ner pent<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l6"&gt;</span>Unwillingly represent<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l7"&gt;</span>A source <span class="element">&lt;seg <span class="attribute">xml:id</span>="Mik-l7s"&gt;</span>of innocent merriment<span class="element">&lt;/seg&gt;</span>,<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="Mik-l8"&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">copyOf</span>="#Mik-l7s"/&gt;</span>!<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;/sp&gt;</span><br/> <span class="element">&lt;sp <span class="attribute">who</span>="#chorus"&gt;</span><br/>  <span class="element">&lt;l&gt;</span>His <span class="element">&lt;seg <span class="attribute">copyOf</span>="#Mik-l1s"/&gt;</span><br/>  <span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l&gt;</span>He will <span class="element">&lt;seg <span class="attribute">copyOf</span>="#Mik-l2s"/&gt;</span><br/>  <span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l3"/&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l4"/&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l5"/&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l6"/&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l7"/&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">copyOf</span>="#Mik-l8"/&gt;</span><br/> <span class="element">&lt;/sp&gt;</span></div></div><p><span id="id2497742"/>For further examples of the use of this attribute, see <a class="link_ptr" href="SA.html#SAAT" title="Alternation">11.8  Alternation</a> and <a class="link_ptr" href="GD.html#GDAT" title="Another Tree Notation">18.3  Another Tree Notation</a>.</p></div><div class="div2" id="SAAG"><h3>11.7  Aggregation</h3><p><span id="id2497768"/>Because of the strict hierarchical organization of elements, or for
other reasons, it may not always be possible or desirable to include
all the parts of a possibly fragmented text segment within a single
element. In section <a class="link_ptr" href="SA.html#SAPTIP" title="Intermediate Pointers">11.1.4  Intermediate Pointers</a> we introduced the notion of
an intermediate pointer as a way of pointing to discontinuous segments
of this kind. In this section we first describe another way of linking
the parts of a discontinuous whole, using a set of linking attributes,
which are made available for any tag by following the procedure
described at the beginning of this chapter. We then describe how the
<code>&lt;link&gt;</code> element may be used to aggregate such segments, and
finally introduce the <code>&lt;join&gt;</code> element, which is a
special-purpose linking element specifically for representing the
aggregation of parts, and the <code>&lt;joinGrp&gt;</code> for grouping
<span class="tag">&lt;join&gt;</span> tags.</p><div class="p"><span id="id2497805"/>The linking attributes for aggregation are <span class="att">next</span> and
<span class="att">prev</span>; each of these attributes has a single identifier as its
value:
<ul class="specList"><li><b><a href="ref-att.global.linking.html">att.global.linking</a></b> defines a set of attributes for hypertext and other linking,
which are enabled for all elements when the additional tag set for
linking is selected.</li></ul></div><p><span id="id2497822"/>The <code>&lt;join&gt;</code> element is also a member of the class of <span class="ident-class">att.pointing</span> elements, and so may carry any of the
attributes of that class; for the list, see section <a class="link_ptr" href="SA.html#SAPT" title="Links">11.1  Links</a>.</p><div class="p"><span id="id2497843"/>Here is the material on which we base our first illustration of the
use of these mechanisms. Our problem is to represent the S-units
identified below as <span class="val">qs3</span> and <span class="val">qs4</span> as a single (but discontinuous) whole:
<div class="pre"> <span class="element">&lt;q <span class="attribute">who</span>="waitress"&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="qs2"&gt;</span>Monsieur Paul, after he has taken equal
      parts of goose breast and the finest pork, and
      broken a certain number of egg yolks into them,
      and ground them <span class="element">&lt;emph&gt;</span>very<span class="element">&lt;/emph&gt;</span>, very fine,<br/>        cooks all with seasoning for some three hours.<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="qs3"&gt;</span><br/>   <span class="element">&lt;emph&gt;</span>But<span class="element">&lt;/emph&gt;</span>,<span class="element">&lt;/s&gt;</span><br/> <span class="element">&lt;/q&gt;</span><br/> <span class="element">&lt;s <span class="attribute">xml:id</span>="ps2"&gt;</span>she pushed her face nearer, and looked with
   ferocious gloating at the pâté
   inside me, her eyes like X rays,<span class="element">&lt;/s&gt;</span><br/> <span class="element">&lt;q <span class="attribute">who</span>="waitress"&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="qs4"&gt;</span>he never stops stirring it!<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="qs5"&gt;</span>Figure to yourself the work of it —<span class="element">&lt;/s&gt;</span><br/>  <span class="element">&lt;s <span class="attribute">xml:id</span>="qs6"&gt;</span>stir, stir, never stopping!<span class="element">&lt;/s&gt;</span><br/> <span class="element">&lt;/q&gt;</span></div></div><div class="p"><span id="id2497929"/>Using the <span class="att">prev</span> and <span class="att">next</span> attributes, we can
link the s-units with identifiers <span class="val">qs3</span> and <span class="val">qs4</span>, either singly or doubly as follows:
<div class="pre_eg">  &lt;s xml:id="qs3" next="#qs4"&gt;&lt;emph&gt;But&lt;/emph&gt;,&lt;/s&gt;
  &lt;s xml:id="qs4"&gt;he never stops stirring it!&lt;/s&gt;</div><div class="pre_eg">  &lt;s xml:id="qs3"&gt;&lt;emph&gt;But&lt;/emph&gt;,&lt;/s&gt;
  &lt;s xml:id="qs4" prev="#qs3"&gt;he never stops stirring it!&lt;/s&gt;</div><div class="pre_eg">  &lt;s xml:id="qs3" next="#qs4"&gt;&lt;emph&gt;But&lt;/emph&gt;,&lt;/s&gt;
  &lt;s xml:id="qs4" prev="#qs3"&gt;he never stops stirring it!&lt;/s&gt;</div>
Double linking of the two S-units, as illustrated by the last of these
encodings, is equivalent to specifying a <span class="tag">&lt;link&gt;</span> tag:
<div class="pre"> <span class="element">&lt;link <span class="attribute">type</span>="join" <span class="attribute">targets</span>="#qs3 #qs4"/&gt;</span></div></div><p><span id="id2497978"/>Such a <span class="tag">&lt;link&gt;</span> element must carry a <span class="att">type</span>
attribute with a value of <span class="val">join</span> to specify that the link is
to be understood as joining its targets into a single aggregate.</p><div class="p"><span id="id2497996"/>The <code>&lt;join&gt;</code> element is equivalent to a <code>&lt;link&gt;</code> element of
type <span class="val">join</span>.

Unlike the <code>&lt;link&gt;</code> element, the <code>&lt;join&gt;</code> element can
additionally specify information about the virtual element which it
represents, by means of its <span class="att">result</span> attribute. And finally,
unlike the <code>&lt;link&gt;</code> element, the position of a <code>&lt;join&gt;</code>
element within a text is significant: it must be supplied at a position
where the element indicated by its <span class="att">result</span> attribute would be
contextually legal.
<ul class="specList"><li><b>&lt;<a href="ref-join.html">join</a>&gt;</b> identifies a possibly fragmented segment of text, by pointing
at the possibly discontiguous elements which compose it.<table class="attList"><tr><td class="Attribute">result</td><td colspan="2">specifies the name of an element
which this aggregation
may be understood to represent.</td></tr><tr><td class="Attribute">targets</td><td colspan="2">specifies the identifiers of the elements or passages
       to be joined into a virtual
       element.</td></tr></table></li><li><b>&lt;<a href="ref-joinGrp.html">joinGrp</a>&gt;</b> (join group) groups a collection of join elements and possibly
  pointers.<table class="attList"><tr><td class="Attribute">result</td><td colspan="2">describes the result of the joins gathered in this collection.</td></tr></table></li></ul>
To conclude the above example, we now use a <code>&lt;join&gt;</code> element to
represent the virtual sentence formed by the aggregation of <span class="val">s1</span> and <span class="val">s2</span>:
<div class="pre"> <span class="element">&lt;join <span class="attribute">targets</span>="#qs3 #qs4" <span class="attribute">result</span>="s"/&gt;</span></div>
As a further example, consider the following list of authors' names.
The object of the <code>&lt;join&gt;</code> element here is to provide another
list, composed of those authors from the larger list who happen to
come from Heidelberg:
<div class="pre"> <span class="element">&lt;list&gt;</span><br/>  <span class="element">&lt;head&gt;</span>Authors<span class="element">&lt;/head&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_uf"&gt;</span>Figge, Udo <span class="element">&lt;/item&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_ch"&gt;</span>Heibach, Christiane <span class="element">&lt;/item&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_gh"&gt;</span>Heyer, Gerhard <span class="element">&lt;/item&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_bp"&gt;</span>Philipp, Bettina <span class="element">&lt;/item&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_ms"&gt;</span>Samiec, Monika <span class="element">&lt;/item&gt;</span><br/>  <span class="element">&lt;item <span class="attribute">xml:id</span>="a_ss"&gt;</span>Schierholz, Stefan <span class="element">&lt;/item&gt;</span><br/> <span class="element">&lt;/list&gt;</span><br/> <span class="element">&lt;join <span class="attribute">targets</span>="#a_ch #a_bp #a_ss" <span class="attribute">result</span>="list"&gt;</span><br/>  <span class="element">&lt;desc&gt;</span>Authors from Heidelberg<span class="element">&lt;/desc&gt;</span><br/> <span class="element">&lt;/join&gt;</span></div></div><p><span id="id2498190"/>The following example shows how <code>&lt;join&gt;</code> can be used to
reconstruct a text cited in fragments presented out of order. The poem
being remembered (an unusual translation of a well known poem by Basho)
runs ‘When the old pond / gets a new frog, / it's a new pond.’</p><div class="pre"> <span class="element">&lt;sp <span class="attribute">who</span>="#frog-hughie"&gt;</span><br/>  <span class="element">&lt;p&gt;</span>How does it go?
  <span class="element">&lt;q&gt;</span><br/>    <span class="element">&lt;l <span class="attribute">xml:id</span>="frog-x1"&gt;</span>da-da-da<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l <span class="attribute">xml:id</span>="frog-l2"&gt;</span>gets a new frog<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>...<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/q&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/sp&gt;</span><br/> <span class="element">&lt;sp <span class="attribute">who</span>="#frog-louie"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;q&gt;</span><br/>    <span class="element">&lt;l <span class="attribute">xml:id</span>="frog-l1"&gt;</span>When the old pond<span class="element">&lt;/l&gt;</span><br/>    <span class="element">&lt;l&gt;</span>...<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/q&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/> <span class="element">&lt;/sp&gt;</span><br/> <span class="element">&lt;sp <span class="attribute">who</span>="#frog-dewey"&gt;</span><br/>  <span class="element">&lt;p&gt;</span><br/>   <span class="element">&lt;q&gt;</span>... 
    <span class="element">&lt;l <span class="attribute">xml:id</span>="frog-l3"&gt;</span>It's a new pond.<span class="element">&lt;/l&gt;</span><br/>   <span class="element">&lt;/q&gt;</span><br/>  <span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;join <span class="attribute">targets</span>="#frog-l1 #frog-l2 #frog-l3" <span class="attribute">result</span>="lg" <span class="attribute">scope</span>="root"/&gt;</span><br/> <span class="element">&lt;/sp&gt;</span></div><div class="p"><span id="id2498288"/>As with other forms of link, a grouping element <span class="tag">&lt;joinGrp&gt;</span>
is available for use when a number of <span class="tag">&lt;join&gt;</span> elements of the
same kind co-occur. This avoids the need to specify the
<span class="att">result</span> attribute for each <code>&lt;join&gt;</code> if they are all of
the same type, and also allows us to restrict the domain within which
their target elements are to be found, in the same way as for
<code>&lt;linkGrp&gt;</code> elements (see <a class="link_ptr" href="SA.html#SAPTLG" title="Groups of Links">11.1.3  Groups of Links</a>). Like a
<code>&lt;join&gt;</code>, a <code>&lt;joinGrp&gt;</code> may appear only where the elements
represented by its contents are legal. Thus if we had created many
<span class="tag">&lt;join&gt;</span> tags of the sort just described, we could group them
together, and require that their components are all contained by an
element with the identifier <span class="val">MFKFhungry</span> as
follows:
<div class="pre"> <span class="element">&lt;joinGrp <span class="attribute">domains</span>="mfkfhungry mfkfhungry" <span class="attribute">result</span>="s"&gt;</span><br/>  <span class="element">&lt;join <span class="attribute">targets</span>="#qs3 #qs4"/&gt;</span><br/>  <span class="element">&lt;join <span class="attribute">targets</span>="#qs5 #qs6"/&gt;</span><br/> <span class="element">&lt;/joinGrp&gt;</span></div></div><div class="p"><span id="id2498360"/>The <code>&lt;join&gt;</code> element is useful as a means of representing
non-hierarchic structures (as further discussed in chapter <a class="link_ptr" href="USE.html#NH" title="31">24.6  Multiple Hierarchies</a>). It may also be used as a convenient way of representing a
variety of analytic units, like the <code>&lt;span&gt;</code> and <code>&lt;interp&gt;</code>
elements discussed in chapter <a class="link_ptr" href="AI.html" title="15">12  Simple Analytic Mechanisms</a>. As an example, consider
the following passage:
<blockquote class="display"><p><span id="id2498391"/>Zui-Gan called out to himself every day, ‘Master.’</p><p><span id="id2498396"/>Then he answered himself, ‘Yes, sir.’</p><p><span id="id2498403"/>And then he added, ‘Become sober.’</p><p><span id="id2498409"/>Again he answered, ‘Yes, sir.’</p><p><span id="id2498415"/>‘And after that,’ he continued, ‘do not be deceived by
others.’</p><p><span id="id2498424"/>‘Yes, sir; yes, sir,’ he replied.</p></blockquote></div><div class="p"><span id="id2498432"/>Suppose now that we wish to represent an interpretation of the above
passage in which we distinguish between the various
‘voices’ adopted by the character Zui-Gan. In the
following encoding, the <span class="att">who</span> attribute has been used for this
purpose; <span class="att">xml:id</span> attributes have also been added.
The <span class="att">xml:id</span> values specified allow us to link the material
spoken by each voice:
<div class="pre"> <span class="element">&lt;text <span class="attribute">xml:id</span>="zuitxt"&gt;</span><br/>  <span class="element">&lt;body&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Zui-Gan called out to himself every day,
         <span class="element">&lt;q <span class="attribute">next</span>="#zuiq2" <span class="attribute">xml:id</span>="zuiq1" <span class="attribute">who</span>="zuigan"&gt;</span>Master.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Then he answered himself,
         <span class="element">&lt;q <span class="attribute">next</span>="#zuiq4" <span class="attribute">xml:id</span>="zuiq2" <span class="attribute">who</span>="zuigan"&gt;</span>Yes, sir.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>And then he added,
         <span class="element">&lt;q <span class="attribute">next</span>="#zuiq5" <span class="attribute">xml:id</span>="zuiq3" <span class="attribute">who</span>="master"&gt;</span>Become sober.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Again he answered,
         <span class="element">&lt;q <span class="attribute">next</span>="#zuiq7" <span class="attribute">xml:id</span>="zuiq4" <span class="attribute">who</span>="zuigan"&gt;</span>Yes, sir.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;q <span class="attribute">next</span>="#zuiq6" <span class="attribute">xml:id</span>="zuiq5" <span class="attribute">who</span>="master"&gt;</span>And after that,<span class="element">&lt;/q&gt;</span><br/>            he continued,<br/>            <span class="element">&lt;q <span class="attribute">xml:id</span>="zuiq6" <span class="attribute">who</span>="master"&gt;</span>do not be deceived by others.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;q <span class="attribute">xml:id</span>="zuiq7" <span class="attribute">who</span>="zuigan"&gt;</span>Yes, sir; yes, sir,<span class="element">&lt;/q&gt;</span><br/>            he replied.<span class="element">&lt;/p&gt;</span><br/>  <span class="element">&lt;/body&gt;</span><br/> <span class="element">&lt;/text&gt;</span></div></div><div class="p"><span id="id2498557"/>However, by using the <code>&lt;join&gt;</code> element, we can directly
represent the complete speech attributed to each voice:
<div class="pre"> <span class="element">&lt;joinGrp <span class="attribute">result</span>="q"&gt;</span><br/>  <span class="element">&lt;join <span class="attribute">targets</span>="#zuiq1 #zuiq2 #zuiq4 #zuiq7"&gt;</span><br/>   <span class="element">&lt;desc&gt;</span>what Zui-Gan said<span class="element">&lt;/desc&gt;</span><br/>  <span class="element">&lt;/join&gt;</span><br/>  <span class="element">&lt;join <span class="attribute">targets</span>="#zuiq3 #zuiq5 #zuiq6"&gt;</span><br/>   <span class="element">&lt;desc&gt;</span>what Master said<span class="element">&lt;/desc&gt;</span><br/>  <span class="element">&lt;/join&gt;</span><br/> <span class="element">&lt;/joinGrp&gt;</span></div></div><p><span id="id2498590"/>Note the use of the <code>&lt;desc&gt;</code> child element within the two
<code>&lt;join&gt;</code>s making up the <code>&lt;q&gt;</code> element here. These enable us
to  document the speakers of the two virtual <code>&lt;q&gt;</code> elements
represented by the <code>&lt;join&gt;</code> elements; this is necessary because the
current proposals do not allow for any way of specifying the attributes
to be associated with a virtual element, and hence we cannot specify a
<span class="att">who</span> value for them.</p><div class="p"><span id="id2498622"/>Suppose now that <span class="att">xml:id</span> attributes, for whatever
reasons, are not available. Then <code>&lt;ptr&gt;</code> elements may be created
using any of the methods described in sections <a class="link_ptr" href="SA.html#SAES" title="W3C element() Scheme">11.2.3  W3C element() Scheme</a>
or <a class="link_ptr" href="SA.html#SATS" title="TEI XPointer Schemes">11.2.4  TEI XPointer Schemes</a>. The <span class="att">xml:id</span> attributes of
<em>these</em> elements may now be specified by the
<span class="att">targets</span> attribute on the <code>&lt;join&gt;</code> elements.
<div class="pre"> <span class="element">&lt;text&gt;</span><br/>  <span class="element">&lt;body&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Zui-Gan called out to himself every day, <span class="element">&lt;q&gt;</span>Master.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Then he answered himself, <span class="element">&lt;q&gt;</span>Yes, sir.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>And then he added, <span class="element">&lt;q&gt;</span>Become sober.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span>Again he answered, <span class="element">&lt;q&gt;</span>Yes, sir.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;q&gt;</span>And after that,<span class="element">&lt;/q&gt;</span> he continued, <span class="element">&lt;q&gt;</span>do not be deceived by others.<span class="element">&lt;/q&gt;</span><br/>   <span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;p&gt;</span><br/>    <span class="element">&lt;q&gt;</span>Yes, sir; yes, sir,<span class="element">&lt;/q&gt;</span> he replied.<span class="element">&lt;/p&gt;</span><br/>   <span class="element">&lt;ab <span class="attribute">type</span>="aggregation"&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq1" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[1]/q[1])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq2" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[2]/q[1])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq3" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[3]/q[1])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq4" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[4]/q[1])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq5" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[5]/q[1])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq6" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[5]/q[2])"/&gt;</span><br/>    <span class="element">&lt;ptr <span class="attribute">xml:id</span>="rzuiq7" <span class="attribute">target</span>="./#xpath1(//div1[6]/p[6]/q[1])"/&gt;</span><br/>    <span class="element">&lt;joinGrp <span class="attribute">evaluate</span>="one" <span class="attribute">result</span>="q"&gt;</span><br/>     <span class="element">&lt;join <span class="attribute">targets</span>="#rzuiq1 #rzuiq2 #rzuiq4 #rzuiq7"&gt;</span><br/>      <span class="element">&lt;desc&gt;</span>what Zui-Gan said<span class="element">&lt;/desc&gt;</span><br/>     <span class="element">&lt;/join&gt;</span><br/>     <span class="element">&lt;join <span class="attribute">targets</span>="#rzuiq3 #rzuiq5 #rzuiq6"&gt;</span><br/>      <span class="element">&lt;desc&gt;</span>what Master said<span class="element">&lt;/desc&gt;</span><br/>     <span class="element">&lt;/join&gt;</span><br/>    <span class="element">&lt;/joinGrp&gt;</span><br/>   <span class="element">&lt;/ab&gt;</span><br/>  <span class="element">&lt;/body&gt;</span><br/> <span class="element">&lt;/text&gt;</span></div></div><p><span id="id2498796"/> The extended pointer with identifier
<span class="val">rzuiq2</span> (for example) may be read as ‘the first
<code>&lt;q&gt;</code> in the first <code>&lt;p&gt;</code>, within the sixth <code>&lt;div1&gt;</code>
element of the current document.’</p><div class="p"><span id="id2498818"/>As mentioned above, there is no need for the <code>&lt;join&gt;</code> and
<code>&lt;ptr&gt;</code> elements to be held in the same document as the text;
indeed, if, for example, the text is held on a read-only medium, this
may not be possible. The <span class="att">doc</span> attribute of the <code>&lt;ptr&gt;</code>
element may be used to specify the name of an external entity within
which its target is to be found, as in the following example:
<div class="pre_eg">&lt;!ENTITY fazdoc SYSTEM 'faz.doc' NDATA w3cXML&gt;
&lt;!-- ... --&gt;
&lt;xptr xml:id='RZUIQ1'
      doc='fazdoc'
      target="./#xpath1(//div1[6]/p[1]/q[1])"/&gt;
&lt;!-- ... --&gt;</div></div><div class="p"><span id="id2499201"/>Here are the formal declarations of the <code>&lt;join&gt;</code> and
<code>&lt;joinGrp&gt;</code> elements.
<div class="specgrp"><span id="DSAAG"/><b>Specification group 110: Aggregation</b><dl><dt>Element join</dt><dd><pre class="eg">
join = element join { join.content, join.attributes }

join.content = <a class="link_odd" href="ref-macro.glossSeq.html">macro.glossSeq</a>

join.attributes =
   att.pointing.attributes,
   attribute targets { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>, <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } },
   attribute result { <a class="link_odd" href="ref-data.name.html">data.name</a> }?,
   attribute scope { "root" | "branches" }?</pre></dd><dt>Element joinGrp</dt><dd><pre class="eg">
joinGrp = element joinGrp { joinGrp.content, joinGrp.attributes }

joinGrp.content = <a class="link_odd" href="ref-macro.glossSeq.html">macro.glossSeq</a>?, ( <a class="link_odd" href="ref-join.html">join</a> | <a class="link_odd" href="ref-ptr.html">ptr</a> )+

joinGrp.attributes =
   att.pointing.group.attributes,
   attribute result { <a class="link_odd" href="ref-data.name.html">data.name</a> }?</pre></dd></dl></div></div></div><div class="div2" id="SAAT"><h3>11.8  Alternation</h3><p><span id="id2499865"/>This section proposes elements for the representation of alternation.
We say that two or more elements are in <em>exclusive
alternation</em> if any of those elements could be present in a text,
but one and only one of them is; in addition, we say that those elements
are <em>mutually exclusive</em>. We say that the elements are in
<em>inclusive alternation</em> if at least one (and possibly more)
of them is present. The elements that are in alternation may also be
called <em>alternants</em>.</p><p><span id="id2499890"/>The need to mark exclusive alternation arises frequently in text
encoding. A common situation is one in which it can determined that
exactly one of several different words appears in a given location, but
it cannot be determined which one. One way to mark such an exclusive
alternation is to use the linking attribute <span class="att">exclude</span>. Having
marked an exclusive alternation, it can sometimes later be determined
which of the alternants actually appears in the given location. To
preserve the fact that an alternation was posited, one can add the
linking attribute <span class="att">select</span> to a tag which hierarchically
encompasses the alternants, which points to the one which actually
appears. To assign responsibility and degree of certainty to the
choice, one can use the <code>&lt;certainty&gt;</code> tag described in
chapter <a class="link_ptr" href="CE.html" title="17">14  Certainty and Responsibility</a>. Also see that chapter for further discussion of
certainty in general.</p><div class="p"><span id="id2499924"/>The <span class="att">exclude</span> and <span class="att">select</span> attributes may be used
with any element assuming that they have been declared following the
procedure discussed in the introduction to this chapter.
 <ul class="specList"><li><b><a href="ref-att.global.linking.html">att.global.linking</a></b> defines a set of attributes for hypertext and other linking,
which are enabled for all elements when the additional tag set for
linking is selected.</li></ul></div><div class="p"><span id="id2499944"/>A more general way to mark alternation, encompassing both exclusive
and inclusive alternation, is to use the linking element <code>&lt;alt&gt;</code>.
The description and attributes of this tag and of the associated
grouping tag <code>&lt;altGrp&gt;</code> are as follows. These elements are also
members of the <span class="ident-class">att.pointing</span> class and therefore
have all the attributes associated with that class.
<ul class="specList"><li><b>&lt;<a href="ref-alt.html">alt</a>&gt;</b> (alternation) identifies an alternation or a set of choices among elements or passages.<table class="attList"><tr><td class="Attribute">targets</td><td colspan="2">specifies the identifiers of the alternative elements or passages.</td></tr><tr><td class="Attribute">weights</td><td colspan="2">If mode is excl, each weight
      states the probability that the corresponding alternative
      occurs. If modeincl each weight states
      the probability that the corresponding alternative occurs given
      that at least one of the other alternatives occurs.</td></tr></table></li><li><b>&lt;<a href="ref-altGrp.html">altGrp</a>&gt;</b> (alternation group) groups a collection of alt elements and possibly
pointers.</li></ul></div><div class="p"><span id="id2499977"/>To take a simple hypothetical example, suppose in transcribing a
spoken text, we encounter an utterance that we can understand either as
We had fun at the beach today. or as We had sun at
the beach today. We can represent the exclusive alternation of
these two possibilities by means of the <span class="att">exclude</span> attribute as
follows.
<div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.sun1" <span class="attribute">xml:id</span>="we.fun1"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun1" <span class="attribute">xml:id</span>="we.sun1"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500023"/>If it is then determined that the speaker said fun,
not sun, the encoder could amend the text by deleting the
alternant containing sun and the <span class="att">exclude</span>
attribute on the remaining alternant. Alternatively, the encoder could
preserve the fact that there was uncertainty in the original
transcription by retaining the alternants, and assigning the
<span class="val">we.fun</span> value to the <span class="att">select</span> attribute value on the <span class="tag">&lt;div&gt;</span> tag that
encompasses the alternants, as in:
<div class="pre"> <span class="element">&lt;div <span class="attribute">select</span>="#we.fun2" <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.sun2" <span class="attribute">xml:id</span>="we.fun2"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun2" <span class="attribute">xml:id</span>="we.sun2"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500087"/>The above alternation (including the <span class="att">select</span> attribute)
could be recoded by assigning the <span class="att">exclude</span> attributes to tags
that enclose just the words or even the characters that are mutually
exclusive, as in:<a class="notelink" href="#Note96"><sup>96</sup></a><div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">select</span>="#fun3"&gt;</span>We had
    <span class="element">&lt;seg <span class="attribute">exclude</span>="#sun3" <span class="attribute">xml:id</span>="fun3" <span class="attribute">type</span>="word"&gt;</span>fun<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">exclude</span>="#fun3" <span class="attribute">xml:id</span>="sun3" <span class="attribute">type</span>="word"&gt;</span>sun<span class="element">&lt;/seg&gt;</span><br/>      at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div><div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u&gt;</span>We had
    <span class="element">&lt;seg <span class="attribute">select</span>="#f" <span class="attribute">type</span>="word"&gt;</span><br/>    <span class="element">&lt;seg <span class="attribute">exclude</span>="#s" <span class="attribute">xml:id</span>="f" <span class="attribute">type</span>="character"&gt;</span>f<span class="element">&lt;/seg&gt;</span><br/>    <span class="element">&lt;seg <span class="attribute">exclude</span>="#f" <span class="attribute">xml:id</span>="s" <span class="attribute">type</span>="character"&gt;</span>s<span class="element">&lt;/seg&gt;</span><br/>         un<span class="element">&lt;/seg&gt;</span><br/>      at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500203"/>Now suppose that the transcriber is uncertain whether the first word
in the utterance is We or Lee, but is
certain that if it is Lee, then the other uncertain word
is definitely fun and not sun. The three
utterances that are in mutual exclusion can be encoded as follows.
<div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>&lt;!-- ... --&gt;<br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.sun4 #lee.fun4" <span class="attribute">xml:id</span>="we.fun4"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun4 #lee.fun4" <span class="attribute">xml:id</span>="we.sun4"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun4 #we.sun4" <span class="attribute">xml:id</span>="lee.fun4"&gt;</span>Lee had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>&lt;!-- ... --&gt;<br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500271"/>The preceding example can also be encoded with <span class="att">exclude</span>
attributes on the word segments We, Lee,
fun and sun:
<div class="pre"> <span class="element">&lt;u&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#lee" <span class="attribute">xml:id</span>="we" <span class="attribute">type</span>="word"&gt;</span>We<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#we #sun" <span class="attribute">xml:id</span>="lee" <span class="attribute">type</span>="word"&gt;</span>Lee<span class="element">&lt;/seg&gt;</span><br/>   had<br/>   <span class="element">&lt;seg <span class="attribute">exclude</span>="#sun" <span class="attribute">xml:id</span>="fun" <span class="attribute">type</span>="word"&gt;</span>fun<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#fun #lee" <span class="attribute">xml:id</span>="sun" <span class="attribute">type</span>="word"&gt;</span>sun<span class="element">&lt;/seg&gt;</span><br/>   at the beach today.<span class="element">&lt;/u&gt;</span></div></div><div class="p"><span id="id2500343"/>The value of the <span class="att">select</span> attribute is defined as a list of
identifiers (<span class="ident-kw">IDREFS</span>); hence it can also be used to
narrow down the range of alternants, as in:
<div class="pre"> <span class="element">&lt;div <span class="attribute">select</span>="#we.fun5 #lee.fun5" <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.sun5 #lee.fun5" <span class="attribute">xml:id</span>="we.fun5"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun5 #lee.fun5" <span class="attribute">xml:id</span>="we.sun5"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun5 #we.sun5" <span class="attribute">xml:id</span>="lee.fun5"&gt;</span>Lee had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div>
This is interpreted to mean that either the first or the third
<span class="tag">&lt;u&gt;</span> tag appears, and is thus equivalent to just the alternation
of those two tags:
<div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#lee.fun6" <span class="attribute">xml:id</span>="we.fun6"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">exclude</span>="#we.fun6" <span class="attribute">xml:id</span>="lee.fun6"&gt;</span>Lee had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500430"/>The <span class="att">exclude</span> attribute can also be used in case there is
uncertainty about the tag that appears in a certain position. For
example, the occurrence of the word May in the S-unit
Let's go to May can be interpreted, in the absence of
other information, either as a person's name or as a date. The
uncertainty can be rendered as follows, using the <span class="att">exclude</span>
attribute.
<div class="pre"> <span class="element">&lt;s&gt;</span>Let's go to
<span class="element">&lt;name <span class="attribute">exclude</span>="#mayn" <span class="attribute">xml:id</span>="mayd"&gt;</span>May<span class="element">&lt;/name&gt;</span><br/>  <span class="element">&lt;date <span class="attribute">copyOf</span>="#mayd" <span class="attribute">exclude</span>="#mayd" <span class="attribute">xml:id</span>="mayn"/&gt;</span>.<span class="element">&lt;/s&gt;</span></div></div><p><span id="id2500478"/>Note the use of the <span class="att">copyOf</span> attribute discussed in
section <a class="link_ptr" href="SA.html#SAIE" title="Identical Elements and Virtual Copies">11.6  Identical Elements and Virtual Copies</a>; this avoids having to repeat the content of the
element whose correct tagging is in doubt.</p><div class="p"><span id="id2500493"/>The <span class="att">copyOf</span> and the <span class="att">exclude</span> attributes also
provide for a simple way of indicating uncertainty about exactly where a
particular element occurs in a document.<a class="notelink" href="#Note97"><sup>97</sup></a>

For example suppose that a particular <code>&lt;div2&gt;</code>
element appears either as the third and last of the <code>&lt;div2&gt;</code>
elements within the first <span class="tag">&lt;div1&gt;</span> element in the body of a
document, or as the first <code>&lt;div2&gt;</code> of the second <code>&lt;div1&gt;</code>.
One solution would be to record the <code>&lt;div2&gt;</code> in its entirety in the
first of these positions, and a virtual copy of it in the second, and
mark them as excluding each other as follows:
<div class="pre"> <span class="element">&lt;body&gt;</span><br/>  <span class="element">&lt;div1 <span class="attribute">xml:id</span>="C1"&gt;</span><br/>   <span class="element">&lt;div2 <span class="attribute">xml:id</span>="C1S3" <span class="attribute">exclude</span>="#c2s1"/&gt;</span><br/>  <span class="element">&lt;/div1&gt;</span><br/>  <span class="element">&lt;div1 <span class="attribute">xml:id</span>="C2"&gt;</span><br/>   <span class="element">&lt;div2 <span class="attribute">xml:id</span>="C2S1" <span class="attribute">copyOf</span>="#c1s3" <span class="attribute">exclude</span>="#c1s3"/&gt;</span><br/>  <span class="element">&lt;/div1&gt;</span><br/> <span class="element">&lt;/body&gt;</span></div>
In this case, the <span class="att">select</span> attribute, if used, would appear on
the <span class="tag">&lt;body&gt;</span> tag.</div><div class="p"><span id="id2500592"/>Mutual exclusion can also be expressed using a <span class="tag">&lt;link&gt;</span>; the
first example in this section can be recoded by removing the
<span class="att">exclude</span> attributes from the <span class="tag">&lt;u&gt;</span> tags, and adding a
<span class="tag">&lt;link&gt;</span> as follows:<a class="notelink" href="#Note98"><sup>98</sup></a><div class="pre"> <span class="element">&lt;div <span class="attribute">type</span>="interview"&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="we.had.fun"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;u <span class="attribute">xml:id</span>="we.had.sun"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/>  <span class="element">&lt;link<br/>    <span class="attribute">type</span>="exclusive_alternation"<br/>    <span class="attribute">targets</span>="#we.had.fun #we.had.sun"/&gt;</span><br/> <span class="element">&lt;/div&gt;</span></div></div><div class="p"><span id="id2500657"/>Now we define the specialized linking element <code>&lt;alt&gt;</code>, making
it a member of the pointer class of elements, and assigning it a
<span class="att">excl</span> (for mutually exclusive)
attribute, which can have either of the values <span class="val">Y</span> or <span class="val">N</span>. Then the
following equivalence holds:
<div class="pre_eg">&lt;alt mode="excl"/&gt; = &lt;link type="exclusive alternation"/&gt;</div></div><div class="p"><span id="id2500685"/>The
preceding <span class="tag">&lt;link&gt;</span> may therefore be recoded as the following
<span class="tag">&lt;alt&gt;</span> element.
<div class="pre"> <span class="element">&lt;alt <span class="attribute">targets</span>="#we.fun #we.sun" <span class="attribute">mode</span>="excl"/&gt;</span></div></div><p><span id="id2500706"/>Other attributes that are defined specifically for the <code>&lt;alt&gt;</code>
element are <span class="att">weights</span> and <span class="att">percent</span>. The
<span class="att">weights</span> attribute is to be used if one wishes to assign
<em>probabilistic weights</em> to the targets (alternants). Its
value is a list of numbers, corresponding to the targets, expressing the
probability that each target appears.  If the alternants are mutually exclusive, then
the weights must sum to 1.0.</p><div class="p"><span id="id2500740"/>Suppose in the preceding example that it is equiprobable whether
fun or sun appears. Then the
<span class="tag">&lt;alt&gt;</span> that represents the alternation may be stated as follows:
<div class="pre"> <span class="element">&lt;alt <span class="attribute">targets</span>="#we.fun #we.sun" <span class="attribute">mode</span>="excl" <span class="attribute">weights</span>="0.5 0.5"/&gt;</span></div></div><div class="p"><span id="id2500766"/>The assignment of a weight of 1.0 to one target (and weights of 0
to all the others) is equivalent to selecting that target. Thus the
following encoding is equivalent to the second example at the beginning
of this section.
<div class="pre"> <span class="element">&lt;u <span class="attribute">xml:id</span>="we.fun"&gt;</span>We had fun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;u <span class="attribute">xml:id</span>="we.sun"&gt;</span>We had sun at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;alt <span class="attribute">targets</span>="#we.fun #we.sun" <span class="attribute">mode</span>="excl" <span class="attribute">weights</span>="1 0"/&gt;</span></div>
The sum of the weights for <span class="tag">&lt;alt excl="N"&gt;</span> tags ranges from 0% to
(100 × <tt>k</tt>)%, where <tt>k</tt> is the number of targets. If the sum is 0%, then
the alternation is equivalent to exclusive alternation; if the sum is
(100 x k)%, then all of the alternants must appear, and the situation is
better encoded without an <span class="tag">&lt;alt&gt;</span> tag.</div><p><span id="id2500948"/>If it is desired, <code>&lt;alt&gt;</code> elements may be grouped together in an
<code>&lt;altGrp&gt;</code> element, and attribute values shared by the individual
<code>&lt;alt&gt;</code> elements may be identified on the <code>&lt;altGrp&gt;</code> element. The
<span class="att">targFunc</span> attribute defaults to the value <span class="val">first.alternant next.alternant</span>. Thus, specifying
the value <span class="val">2</span> for the <span class="att">extendTarg</span> attribute   permits the alternants to be
extended indefinitely.</p><div class="p"><span id="id2500985"/>To illustrate, consider again the example of a transcribed utterance,
in which it is uncertain whether the first word is We or
Lee, whether the third word is fun or
sun, but that if the first word is Lee,
then the third word is fun. Now suppose we have the
following additional information: if we occurs, then the
probability that fun occurs is 50% and that
sun occurs is 50%; if fun occurs, then the
probability that we occurs is 40% and that
Lee occurs is 60%. This situation can be encoded as
follows.
<div class="pre"> <span class="element">&lt;u&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#lee2" <span class="attribute">xml:id</span>="we2" <span class="attribute">type</span>="word"&gt;</span>We<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#we2" <span class="attribute">xml:id</span>="lee2" <span class="attribute">type</span>="word"&gt;</span>Lee<span class="element">&lt;/seg&gt;</span><br/>   had<br/>   <span class="element">&lt;seg <span class="attribute">exclude</span>="#sun2" <span class="attribute">xml:id</span>="fun2" <span class="attribute">type</span>="word"&gt;</span>fun<span class="element">&lt;/seg&gt;</span><br/>  <span class="element">&lt;seg <span class="attribute">exclude</span>="#fun2" <span class="attribute">xml:id</span>="sun2" <span class="attribute">type</span>="word"&gt;</span>sun<span class="element">&lt;/seg&gt;</span><br/>   at the beach today.<span class="element">&lt;/u&gt;</span><br/> <span class="element">&lt;altGrp&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#we2 #lee2"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#fun2 #sun2"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#we2 #fun2" <span class="attribute">mode</span>="incl" <span class="attribute">weights</span>="0.5 0.5"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#lee2 #fun2" <span class="attribute">mode</span>="incl" <span class="attribute">weights</span>="1.0 0.6"/&gt;</span><br/> <span class="element">&lt;/altGrp&gt;</span></div></div><p><span id="id2501117"/>From the information in this encoding, we can determine that the
probability is about 28.5% that the utterance is ‘We had fun at the
beach today’, 28.5% that it is We had sun at the beach
today, and 43% that it is Lee had fun at the beach
today.</p><p><span id="id2501136"/>Another very similar example is the following regarding the text of a
Broadway song. In three different versions of the song, the same line
reads ‘Her skin is tender as a leather glove,’‘Her skin is
tender as a baseball glove,’ and ‘Her skin is tender as Dimaggio's
glove.’<a class="notelink" href="#Note99"><sup>99</sup></a></p><p><span id="id2501160"/>If we wish to express this textual variation using the <code>&lt;alt&gt;</code>
element, we can record our relative confidence in the readings
Dimaggio's (with probability 50%), a
leather (25%), and a baseball (25%).</p><div class="p"><span id="id2501182"/>Let us extend the example with a further (imaginary) variation,
supposing for the sake of the argument that the next line is variously
given as and she bats from right to left (with
probability 50%) or now ain't that too damn bad (with
probability 50%). Using the <code>&lt;alt&gt;</code> element, we can express the
conviction that if the first choice for the second line is correct, then
the probability that the first line contains Dimaggio's
is 90%, and each of the others 5%; whereas if the second choice for the
second line is correct, then the probability that the first line
contains Dimaggio's is 10%, and each of the others is
45%. This can be encoded, with an <span class="tag">&lt;altGrp&gt;</span> tag containing a
combination of exclusive and inclusive <span class="tag">&lt;alt&gt;</span> tags, as follows.
<div class="pre"> <span class="element">&lt;div <span class="attribute">xml:id</span>="bm" <span class="attribute">type</span>="song"&gt;</span><br/>  <span class="element">&lt;l&gt;</span>Her skin is tender as
    <span class="element">&lt;seg <span class="attribute">xml:id</span>="dm"&gt;</span>Dimaggio's<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="lt"&gt;</span>a leather<span class="element">&lt;/seg&gt;</span><br/>   <span class="element">&lt;seg <span class="attribute">xml:id</span>="bb"&gt;</span>a baseball<span class="element">&lt;/seg&gt;</span><br/>      glove,<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="rl"&gt;</span>and she bats from right to left.<span class="element">&lt;/l&gt;</span><br/>  <span class="element">&lt;l <span class="attribute">xml:id</span>="db"&gt;</span>now ain't that too damn bad.<span class="element">&lt;/l&gt;</span><br/> <span class="element">&lt;/div&gt;</span><br/> <span class="element">&lt;altGrp&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#dm #lt #bb" <span class="attribute">mode</span>="excl" <span class="attribute">weights</span>="0.5 0.25 0.25"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#rl #db" <span class="attribute">mode</span>="excl" <span class="attribute">weights</span>="0.50 0.50"/&gt;</span><br/> <span class="element">&lt;/altGrp&gt;</span><br/> <span class="element">&lt;altGrp <span class="attribute">mode</span>="incl"&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#dm #rl" <span class="attribute">weights</span>="0.90 0.90"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#lt #rl" <span class="attribute">weights</span>="0.5 0.5"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#bb #rl" <span class="attribute">weights</span>="0.5 0.5"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#dm #db" <span class="attribute">weights</span>="0.10 0.10"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#lt #db" <span class="attribute">weights</span>="0.45 0.90"/&gt;</span><br/>  <span class="element">&lt;alt <span class="attribute">targets</span>="#bb #db" <span class="attribute">weights</span>="0.45 0.90"/&gt;</span><br/> <span class="element">&lt;/altGrp&gt;</span></div></div><div class="p"><span id="id2501340"/>Here are the formal declarations of the <code>&lt;alt&gt;</code> and
<code>&lt;altGrp&gt;</code> elements.
<div class="specgrp"><span id="DSAAT"/><b>Specification group 111: Alternation</b><dl><dt>Element alt</dt><dd><pre class="eg">
alt = element alt { alt.content, alt.attributes }

alt.content = empty

alt.attributes =
   att.pointing.attributes,
   attribute targets { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>, <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } },
   attribute mode { "excl" | "incl" }?,
   attribute weights { list { <a class="link_odd" href="ref-data.probability.html">data.probability</a>+ } }?</pre></dd><dt>Element altGrp</dt><dd><pre class="eg">
altGrp = element altGrp { altGrp.content, altGrp.attributes }

altGrp.content = ( <a class="link_odd" href="ref-alt.html">alt</a> | <a class="link_odd" href="ref-ptr.html">ptr</a> )*

altGrp.attributes =
   att.pointing.group.attributes,
   attribute mode { "excl" | "incl" }?</pre></dd></dl></div></div></div><div class="div2" id="SASO"><h3>11.9  Stand-off Markup</h3><div class="div3" id="body.1_div.11_div.9_div.1"><h4>11.9.1  Introduction</h4><p><span id="id2501947"/>Most of the mechanisms defined in this chapter rely to a
    greater or lesser extent on the fact that tags in a marked-up
    document can both assert a property for a span of text which they
    enclose, and assert the existence of an association between
    themselves and some other span of text elsewhere. In stand-off
    markup, there is a clear separation of these two behaviours: the
    markup does not directly contain any part of the text, but
    instead includes it by reference. One specific mechanism
    recommended by these Guidelines for this purpose is the standard
    XInclude mechanism defined by the W3C; another is to use pointers
    as demonstrated elsewhere in this chapter. </p><p><span id="id2501963"/>There are many reasons for using stand-off markup: the source
	  text might be read-only so that additional markup cannot be added,
          or a single text may need to be marked up
          according to several hierarchically incompatible schemes, or a single
          scheme may need to accomodate multiple hierarchical ambiguities, so that
          a single markup tree is not the most faithful representation of the
          source material.</p><p><span id="id2501975"/>This section describes a generic mechanism for expressing
	  <em>all</em> kinds of markup externally as stand-off tags, for use
          whenever it is appropriate.</p><div class="p"><span id="id2501989"/>Throughout this section the following terms will be systematically used in
	specific senses.
<dl><dt><em>source document</em></dt><dd>a document to which the stand-off markup refers (a source document can be either XML or
plain text); there may be more than one source document.</dd><dt><em>internal markup</em></dt><dd>markup that is already present in an XML source document</dd><dt><em>stand-off markup</em></dt><dd>markup that is either outside of the source document and points in to it to the data it
describes, or alternatively is in another part of the source document and points elsewhere
within the document to the data it describes</dd><dt><em>external document</em></dt><dd>a document that contains stand-off markup that points to a different, source document</dd><dt><em>internalize</em></dt><dd>the action of creating a new XML document with external markup and data integrated with the
source document data, and possibly some source document markup as well</dd><dt><em>externalize</em></dt><dd>a process applied to markup from a pre-existing XML document, which splits it into two
documents, an XML (external) document containing some of the markup of the original document,
and another (source) XML document containing whatever text content and markup has not been
extracted into the stand-off document; if all markup has been externalized from a document, the
new source may be a plain text document</dd></dl></div><div class="p"><span id="id2502079"/>The three major requirements satisfied by this scheme for stand-off markup are:
	  <ul><li>any valid TEI markup can be either internal or
	      external,</li><li>external markup can be internalized by
	      applying it to the document content by either
	      substituting the existing markup or adding to it,
	      to form a valid TEI document, and</li><li>the external markup itself specifies whether
	      an internalized document is to be created by substituting
	      the existing internal markup or by adding to
	      it</li></ul>.</div></div><div class="div3" id="body.1_div.11_div.9_div.2"><h4>11.9.2  Overview of XInclude </h4><p><span id="id2502123"/>Stand-off markup which relies on the  inclusion of 
virtual content is adequately supported by the W3C XInclude
recommendation, which is also recommended for use by these Guidelines.<a class="notelink" href="#Note100"><sup>100</sup></a> XInclude defines a namespace
	  (http://www.w3.org/2001/XInclude),
	  which in these Guidelines will be associated with the prefix 
	  xi:, and exactly two elements,
	  <code>&lt;xi:include&gt;</code> and <code>&lt;xi:fallback&gt;</code>. XInclude
	  relies on the <a class="link_ref" href="http://www.w3.org/TR/xptr-framework/" title="XPointer framework">XPointer
	  framework</a> discussed elsewhere in this chapter
	  to point to the actual fragments of text to be
	  internalized. Although
	  XInclude only requires support for the <a class="link_ref" href="http://www.w3.org/TR/xptr-element/" title="element()"><tt>element()</tt></a> 
	  scheme of XPointer, these Guidelines permit the use of any of the
pointing  schemes discussed in section <a class="link_ptr" href="SA.html#SAXP" title="Pointing mechanisms">11.2  Pointing mechanisms</a>.</p><p><span id="id2502191"/>XInclude is a W3C recommendation which specifies a syntax for the
	  inclusion within an XML document of data fragments placed in
	  different resources. Included resources can be either plain
	  text or XML. XInclude instructions within an XML document
	  are meant to be replaced by a resource being pointed at by a
	  URI, possibly augmented by an XPointer that identifies the
	  exact subresource to be included. Fallback content or
	  resources can be specified in case of a failure to fetch the
	  requested resource. </p><p><span id="id2502204"/>The <code>&lt;xi:include&gt;</code> element uses the <span class="att">href</span>
	  attribute to specify the location of the resource to be
	  included; its value is an IURI containing, if necessary,
	  an XPointer. Additionally, it uses the <span class="att">parse</span>
	  attribute (whose only valid values are <span class="val">text</span> and
	  <span class="val">xml</span>) to specify whether the included content is
	  plain text or an XML fragment, and the <span class="att">encoding</span>
	  attribute to provide a hint, when the included fragment is
	  text, of the character encoding of the fragment. An optional
	  <code>&lt;xi:fallback&gt;</code> element is also permitted within an
	  <code>&lt;xi:include&gt;</code>; it specifies alternative content to be
	  used when the external resource cannot be fetched for some
	  reason. Its use is not however recommended for stand-off
	  markup.</p><p><span id="id2502253"/>XInclude currently only requires support for one XPointer
	  scheme, called <tt>element()</tt>. As described in <a class="link_ptr" href="SA.html#SAES" title="W3C element() Scheme">11.2.3  W3C element() Scheme</a>, the <tt>element()</tt> scheme can use
	  either a bare name (denoting an element with a specific
	  <span class="att">xml:id</span> attribute) or a child sequence (a
	  numerical sequence of slash-separated child numbers
	  specifying a path in the XML tree whose final step selects a
	  specific subtree of XML content) to specify its
	  target. Another scheme, <tt>xpointer()</tt>, has not yet
	  become a W3C recommendation, although it has been part of
	  the XPointer drafts from the beginning. The
	  <tt>xpointer()</tt> scheme and the TEI schemes defined
	  earlier (see <a class="link_ptr" href="SA.html#SATS" title="TEI XPointer Schemes">11.2.4  TEI XPointer Schemes</a>) add the concepts of
	  points and ranges, which can be used to specify sub-node
	  fragments (e.g., a few words within a longer text node) or
	  trans-node fragments (e.g., a segment of text that spans
	  across different branches of the overall XML tree).</p></div><div class="div3" id="body.1_div.11_div.9_div.3"><h4>11.9.3  Doing stand-off markup in TEI</h4><p><span id="id2502309"/>The operations of internalizing and externalizing markup are
     very useful and practically important. XInclude processing as
     defined by the W3C <em>is</em> internalization of one or more
     source documents' content into a stand-off document. TEI use of
     XInclude for stand-off markup enables use of XInclude-conformant
     sofware to perform this useful operation. However,
     internalization is not clearly defined for all stand-off files,
     because the structure of the internal and external markup trees
     may overlap. In particular, when an external markup document
     selects a range that overlaps partial elements in the source
     document, it is not clear how the semantics of internalization
     (inclusion) should work, since partial elements are not XML
     objects.  <a class="notelink" href="#Note101"><sup>101</sup></a> XInclude defines a semantics
     for this case that involves only complete elements.</p><div class="p"><span id="id2502342"/>When a range selection partially overlaps a number of elements in a
source document, XInclude specifies that the partially overlapping
elements should be included as well as all completely overlapping
elements and characters (partially overlapping characters are not
possible). The effect of this is that elements that straddle the start
or end of a selected range will be included as wrappers for those of
their children that are completely or partially selected by the
range. For example, given the following source document:
 
        <div class="pre_eg">
        &lt;body&gt;
  &lt;p xml:id="par1"&gt;home, &lt;emph&gt;home&lt;/emph&gt; on Brokeback Mountain.&lt;/p&gt;
  &lt;p xml:id="par2"&gt;That was the &lt;emph&gt;song&lt;/emph&gt; that I sang&lt;/p&gt;
  &lt;/body&gt;
        </div>
        and the following external document:
        <div class="pre_eg">
  &lt;body xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
     &lt;div&gt;&lt;xi:include href="example1.xml"
xpointer="range(xpath1(id(par1)//emph),xpath1(id(par2)//emph))"/&gt;
     &lt;/div&gt;
 &lt;/body&gt;    </div>
        the resulting document after XInclude processing of this external document
        would be:
        <div class="pre_eg">
   &lt;body xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
   &lt;div&gt;
      &lt;p xml:id="par1"&gt;&lt;emph&gt;home&lt;/emph&gt; on Brokeback Mountain.&lt;/p&gt;
      &lt;p xml:id="par2"&gt;That was the &lt;emph&gt;song&lt;/emph&gt;&lt;/p&gt;    
   &lt;/div&gt;
   &lt;/body&gt;
        </div>

        The result of the inclusion is two paragraph elements, while
        the original range designated in the the source document
        overlapped two paragraph fragments. 


The semantics of XInclude require the creation of well-formed XML results even though
        the  pointing mechanisms it uses do not necessarily
        respect the hierarchical structure of XML documents, as in
	this case. While
        this is a good way to ensure that internalization is always
        possible, it has implications for the use of XInclude as a
        notation for the <em>description</em> of overlapping
        markup structures.
        </div><p><span id="id2502396"/>When overlapping hierarchies need to be represented
        for a single document, each hierarchy must be represented by a
        separate set of XInclude tags pointing to a common source
        document. This sort of structure corresponds to common
        practice in work with linguistic text corpora. In such corpora, each
        potentially overlapping hierarchy of elements for the text is
        represented as a separate stream of stand-off
        markup. Generally the source text contains markup for features
        of the smallest significant units of analysis in the corpus,
        such as words or morphemes, this information and its markup
        representing a layer of common information that is shared by
        all the various hierarchies. As a way of organizing the
        representation of complex data, this technique generally
        allows a large number of <span class="att">xml:id</span> attributes to be
        attached to the shared elements, providing robust anchors for
        links and facilitating adjustments to the source document
        without breaking external documents that reference it.
        </p><p><span id="id2502430"/>Any tag can be externalized by

	  removing its content and replacing it with an 
	  <code>&lt;xi:include&gt;</code> element that contains an XPointer
	  pointing to the desired content.</p><div class="p"><span id="id2502444"/>For instance the following portion of a TEI document:
<div class="pre_eg">&lt;text&gt;
   &lt;body&gt;
      &lt;head&gt;1755&lt;/head&gt;
      &lt;l&gt;To make a prairie it takes a clover and one bee,&lt;/l&gt;
      &lt;l&gt;One clover, and a bee,&lt;/l&gt;
      &lt;l&gt;And revery.&lt;/l&gt;
      &lt;l&gt;The revery alone will do,&lt;/l&gt;
      &lt;l&gt;If bees are few.&lt;/l&gt;
   &lt;/body&gt;
&lt;/text&gt;</div>
	  can be externalized by placing the actual text in a separate
	  document, and providing exactly the same markup with the
	  <code>&lt;xi:include&gt;</code> elements:
	  <br/>Source.xml<div class="pre_eg">&lt;content&gt;To make a prairie it takes a clover and one bee,\n
One clover, and a bee,\n
And revery.\n
The revery alone will do,\n
If bees are few.\n
&lt;/content&gt;</div><br/>External.xml<div class="pre_eg">&lt;text xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
 &lt;body&gt;
  &lt;head&gt;1755&lt;/head&gt;
   &lt;l&gt;
    &lt;xi:include href="Source.xml" parse="xml"
       xpointer="string-range(element(/1),  0, 48)"/&gt;
   &lt;/l&gt;
   &lt;l&gt;
    &lt;xi:include href="Source.xml" parse="xml"
       xpointer="string-range(element(/1), 49, 71)"/&gt;
   &lt;/l&gt;
   &lt;l&gt;
    &lt;xi:include href="Source.xml" parse="xml"
       xpointer="string-range(element(/1), 72, 83)"/&gt;
   &lt;/l&gt;
   &lt;l&gt;
    &lt;xi:include href="Source.xml" parse="xml"
       xpointer="string-range(element(/1), 84,109)"/&gt;
   &lt;/l&gt;
   &lt;l&gt;
    &lt;xi:include href="Source.xml" parse="xml"
       xpointer="string-range(element(/1),110,126)"/&gt;
   &lt;/l&gt;
 &lt;/body&gt;
&lt;/text&gt;</div></div><p><span id="id2502494"/>Please note that this specification requires that the
	XInclude namespace declaration is present in all cases. The
	<code>&lt;xi:fallback&gt;</code> element contains text or XML fragments to
	be placed in the document if the inclusion fails for any
	reason (for instance due to inaccessibility of an external
	resource). The <code>&lt;xi:fallback&gt;</code> element is optional; if it
	is not present an XInclude processor must signal a fatal error
	when a resource is not found. This is the preferred behaviour
	for use with stand-off markup, thus these Guidelines recommend
	against the use of <code>&lt;xi:fallback&gt;</code> for stand-off
	markup.</p></div><div class="div3" id="body.1_div.11_div.9_div.4"><h4>11.9.4  Well-formedness and validity of stand-off markup</h4><p><span id="id2502541"/>The whole source fragment
	  identified by an XInclude element, as well as any markup
	  therein contained is inserted in the position specified, and
	  an XInclude processor is required to ensure that the resulting
	  internalized document is
	  well-formed. This has obvious implications when the external
	  document contains XML markup:a plain text source document
	  will always create a well-formed
	  internalized document.</p><p><span id="id2502553"/>While a TEI customization may permit
       <code>&lt;xi:include&gt;</code> elements in various places in a TEI document
       instance, in general these Guidelines suggest that validity be
       verified after the resolution of all the <code>&lt;xi:include&gt;</code>
       elements.</p></div><div class="div3" id="body.1_div.11_div.9_div.5"><h4>11.9.5  Including text or xml fragments</h4><p><span id="id2502578"/>When the source text is plain text the overall form of the
	  XPointer pointing to it is of minimal importance. The form
	  of the XPointer matters considerably, on the other hand,
	  when the source document is XML.</p><p><span id="id2502585"/>In this case, it is rather important to distinguish whether
	  we intend to substitute the source XML with the new one, or
	  just to add new markup to it. The XPointers used in the
	  references can express both cases.</p><div class="p"><span id="id2502593"/>A simple way is to make sure to select only textual data in
	  the XPointer. For instance, given the following
	  document:
	  <br/>Source.xhtml<div class="pre_eg">&lt;html&gt;
    &lt;body&gt;
        &lt;div&gt;To make a prairie it takes a &lt;a href="clover.gif"&gt;clover&lt;/a&gt;
    and one &lt;a href="bee.gif"&gt;bee&lt;/a&gt;,&lt;/div&gt;
        &lt;div&gt;One &lt;a href="clover.gif"&gt;clover&lt;/a&gt;, and
    a &lt;a href="bee.gif"&gt;bee&lt;/a&gt;,&lt;/div&gt;
        &lt;div&gt;And revery.&lt;/div&gt;
        &lt;div&gt;The revery alone will do,&lt;/div&gt;
        &lt;div&gt;If bees are few.&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</div>
	  the expression <tt>range(/1/2/1.0,/1/2/11.1)</tt> will
	  select the whole poem, text content <em>and</em><code>&lt;div&gt;</code> elements <em>and</em> hypertext links (NB:
	  in XPointer whitespace-only text nodes count).</div><p><span id="id2502636"/>On the contrary, the expressions
	  <tt>xpointer(//text()/range-to(.))</tt> and
	  <tt>xpointer(string-range(//text(),"To")/range-to(//text(),"few.")</tt> 
	  will only select the text of the poem, with no markup
	  inside.</p><div class="p"><span id="id2502651"/>Thus, the following could be a valid stand-off document for
	  the <i>Source.xhtml</i> document:
	  <br/>External2.xml<div class="pre_eg">&lt;text xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
 &lt;body&gt;
  &lt;head&gt;1755&lt;/head&gt;
  &lt;l&gt;
   &lt;xi:include href="Source.xhtml"
       xpointer='xpointer(string-range(//div[1]/text(),"To")/range-to(//div[1]/text(),"bee,")'/&gt;
  &lt;/l&gt;
  &lt;l&gt;
   &lt;xi:include href="Source.xhtml"
       xpointer='xpointer(string-range(//div[2]/text(),"One")/range-to(//div[2]/text(),"bee,")'/&gt;
  &lt;/l&gt;
  &lt;l&gt;
   &lt;xi:include href="Source.xhtml"
       xpointer='xpointer(string-range(//div[3]/text(),"And")/range-to(//div[3]/text(),".")'/&gt;
  &lt;/l&gt;
  &lt;l&gt;
   &lt;xi:include href="Source.xhtml"
       xpointer='xpointer(string-range(//div[4]/text(),"The")/range-to(//div[4]/text(),",")'/&gt;
  &lt;/l&gt;
  &lt;l&gt;
   &lt;xi:include href="Source.xhtml"
       xpointer='xpointer(string-range(//div[5]/text(),"If")/range-to(//div[5]/text(),".")'/&gt;
  &lt;/l&gt;
 &lt;/body&gt;
&lt;/text&gt;</div></div></div></div><div class="div2" id="SAAN"><h3>11.10  Connecting Analytic and Textual Markup</h3><p><span id="id2502686"/>In chapters <a class="link_ptr" href="AI.html" title="15">12  Simple Analytic Mechanisms</a> and <a class="link_ptr" href="FS.html" title="16">13  Feature Structures</a> and elsewhere,
provision is made for analytic and interpretive markup to be represented
outside of textual markup, either in the same document or in a different
document. The elements in these separate domains can be connected,
either with the pointing attributes <span class="att">ana</span> (for
analysis) and <span class="att">inst</span> (for
instance), or by means of <code>&lt;link&gt;</code> and
<code>&lt;linkGrp&gt;</code> elements. Numerous examples are given in these
chapters.</p></div><div class="div2" id="body.1_div.11_div.11"><h3>11.11  Reference Section</h3><div class="p"><span id="id2502756"/>The module documented by this chapter makes available the following components:
  <div><hr/><strong>Module</strong> <em>linking</em>: Linking, segmentation and alignment<ul><li>Elements defined: <a class="link_odd" href="ref-link.html">link</a> <a class="link_odd" href="ref-linkGrp.html">linkGrp</a> <a class="link_odd" href="ref-ab.html">ab</a> <a class="link_odd" href="ref-anchor.html">anchor</a> <a class="link_odd" href="ref-seg.html">seg</a> <a class="link_odd" href="ref-when.html">when</a> <a class="link_odd" href="ref-timeline.html">timeline</a> <a class="link_odd" href="ref-join.html">join</a> <a class="link_odd" href="ref-joinGrp.html">joinGrp</a> <a class="link_odd" href="ref-alt.html">alt</a> <a class="link_odd" href="ref-altGrp.html">altGrp</a> </li><li>Classes defined: <a class="link_odd" href="ref-att.global.linking.html">att.global.linking</a> <a class="link_odd" href="ref-att.pointing.html">att.pointing</a> <a class="link_odd" href="ref-att.pointing.group.html">att.pointing.group</a> </li></ul><hr/></div>
The selection and combination of modules to form a TEI schema is described in
<a class="link_ptr" href="ST.html#STIN" title="Defining a TEI schema">2.2  Defining a TEI schema</a>.
</div><div class="p"><span id="id2502793"/>The module is organized as follows:
  <div class="specgrp"><b>Specification group 112</b><dl><dt><span class="label">Class</span>: att.global.linking</dt><dd><pre class="eg">
att.global.linking.attributes =
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.corresp</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.synch</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.sameAs</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.copyOf</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.next</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.prev</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.exclude</a>,
   <a class="link_odd" href="ref-att.global.linking.html">att.global.linking.attribute.select</a>

att.global.linking.attribute.corresp =
   attribute corresp { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } }?

att.global.linking.attribute.synch =
   attribute synch { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } }?

att.global.linking.attribute.sameAs = attribute sameAs { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> }?

att.global.linking.attribute.copyOf = attribute copyOf { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> }?

att.global.linking.attribute.next = attribute next { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> }?

att.global.linking.attribute.prev = attribute prev { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a> }?

att.global.linking.attribute.exclude =
   attribute exclude { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } }?

att.global.linking.attribute.select =
   attribute select { list { <a class="link_odd" href="ref-data.pointer.html">data.pointer</a>+ } }?</pre>(Members: <a class="link_odd" href="ref-att.global.html">att.global</a>  )</dd><dt><span class="label">Class</span>: att.pointing</dt><dd><pre class="eg">
att.pointing.attributes =
   <a class="link_odd" href="ref-att.pointing.html">att.pointing.attribute.type</a>,
   <a class="link_odd" href="ref-att.pointing.html">att.pointing.attribute.evaluate</a>

att.pointing.attribute.type = attribute type { <a class="link_odd" href="ref-data.word.html">data.word</a> }?

att.pointing.attribute.evaluate =
   attribute evaluate { "all" | "one" | "none" }?</pre>(Members: <a class="link_odd" href="ref-alt.html">alt</a>  <a class="link_odd" href="ref-att.pointing.group.html">att.pointing.group</a>    [<a class="link_element" href="ref-altGrp.html">altGrp</a>  <a class="link_element" href="ref-joinGrp.html">joinGrp</a>  <a class="link_element" href="ref-linkGrp.html">linkGrp</a>  ] <a class="link_odd" href="ref-join.html">join</a>  <a class="link_odd" href="ref-link.html">link</a>  <a class="link_odd" href="ref-ptr.html">ptr</a>  <a class="link_odd" href="ref-ref.html">ref</a>  )</dd><dt><span class="label">Class</span>: att.pointing.group</dt><dd><pre class="eg">
att.pointing.group.attributes =
   att.pointing.attributes,
   <a class="link_odd" href="ref-att.pointing.group.html">att.pointing.group.attribute.domains</a>,
   <a class="link_odd" href="ref-att.pointing.group.html">att.pointing.group.attribute.targFunc</a>

att.pointing.group.attribute.domains =
   attribute domains { list { <a class="link_odd" href="ref-data.name.html">data.name</a>+ } }?

att.pointing.group.attribute.targFunc =
   attribute targFunc { list { <a class="link_odd" href="ref-data.word.html">data.word</a>+ } }?</pre>(Members: <a class="link_odd" href="ref-altGrp.html">altGrp</a>  <a class="link_odd" href="ref-joinGrp.html">joinGrp</a>  <a class="link_odd" href="ref-linkGrp.html">linkGrp</a>  )</dd><dt><!-- --></dt><dd>« <a href="#DSAPT"><span class="label">include 107: Links</span></a> » </dd><dt><!-- --></dt><dd>« <a href="#DSASA"><span class="label">include 108: Blocks Segments and Anchors</span></a> » </dd><dt><!-- --></dt><dd>« <a href="#DSASYMP"><span class="label">include 109: Temporal specification</span></a> » </dd><dt><!-- --></dt><dd>« <a href="#DSAAG"><span class="label">include 110: Aggregation</span></a> » </dd><dt><!-- --></dt><dd>« <a href="#DSAAT"><span class="label">include 111: Alternation</span></a> » </dd></dl></div></div></div><p class="left"><i> Up: </i><a class="navigation" href="index.html">Contents</a><i> Previous: </i><a class="navigation" href="MS.html">10  Manuscript Description</a><i> Next: </i><a class="navigation" href="AI.html">12  Simple Analytic Mechanisms</a></p><div class="notes"><div class="noteHeading">Notes</div><div class="note"><a id="Note82">82.</a>We use the term alignment as a
    special case of the more general notion of correspondence. Using A
    as a short form for ‘an element with its attribute <span class="att">xml:id</span>
    set to the value <span class="val">A</span>’, and suppose elements A1, A2,
    and A3 occur in that order and form one group, while elements B1,
    B2, and B3 occur in that order and form another group. Then a
    relation in which A1 corresponds to B1, A2 corresponds to B2, and
    A3 corresponds to B3 is an alignment. On the other hand, a
    relation in which A1 corresponds to B2, B1 to C2, and C1 to A2 is
    not an alignment.</div><div class="note"><a id="Note83">83.</a>The <span class="att">type</span>
      attribute on the note is used to classify the notes using the
      typology established in the Advertisement to the work: ‘The
      <em>Imitations</em> of the Ancients are
      added, to gratify those who either never read, or may have
      forgotten them; together with some of the Parodies, and
      Allusions to the most excellent of the Moderns.’ In the
      source text, the text of the poem shares the page with two sets
      of notes, one headed ‘Remarks’ and the other
      ‘Imitations’.</div><div class="note"><a id="Note84">84.</a>Since no special element is
      provided for this purpose in the present version of these
      Guidelines, the information should be supplied as a series of
      paragraphs at the end of the <code>&lt;encodingDesc&gt;</code> element
      described in section <a class="link_ptr" href="HD.html#HD5" title="The Encoding Description">3.3  The Encoding Description</a>.</div><div class="note"><a id="Note85">85.</a>The URI (Universal
    Resource Indicator)  is defined in <a class="link_ref" href="http://www.ietf.org/rfc/rfc2396.txt" title="RFC2396">RFC2396</a></div><div class="note"><a id="Note86">86.</a>Title 17, Section 107 of the <i>United
States Code</i>, found at <a class="link_ptr" href="http://www.copyright.gov/title17/92chap1.html#107" title=""><span>http://www.copyright.gov/title17/92chap1.html#107</span></a> and
converted from HTML to TEI encoding.</div><div class="note"><a id="Note87">87.</a><a class="link_ref" href="http://www.w3.org/TR/xptr-element/" title="XPointer element() Scheme">XPointer element()
      Scheme</a>.</div><div class="note"><a id="Note88">88.</a>Like other XPointer schemes, bare
          names (i.e. values of <code>&lt;xml:id&gt;</code>
          references) are permitted as pointer arguments to all TEI-defined
          XPointer pointer scheme parameters.</div><div class="note"><a id="Note89">89.</a>Bare names (i.e., <span class="att">xml:id</span>
          values), like other Xpointer schemes, are permitted as range parameters.</div><div class="note"><a id="Note90">90.</a>As always
      seems to be the case, no two regular expression languages are
      precisely the same. For those used to Perl regular expressions,
      be warned that while in Perl the pattern <tt>tei</tt>
      matches any string that contains tei, in
      the W3C language it only matches the string ‘tei’.</div><div class="note"><a id="Note91">91.</a>See
      section <a class="link_ptr" href="AI.html#AISP" title="Spans and Interpretations">12.3  Spans and Interpretations</a>, where the text from which this
      fragment is taken is analyzed.</div><div class="note"><a id="Note92">92.</a>The <span class="att">corresp</span> attribute is thus distinct
        from the <span class="att">target</span> attribute in that it is understood
        to create a double, rather than a single, link. It is also
        distinct from the <span class="att">targets</span> attribute in that the
        latter lists all the identifiers of the elements that are
        doubly linked, whereas the <span class="att">corresp</span> doubly links the
        element that bears the attribute with the element(s) that make
        up the value of the attribute.</div><div class="note"><a id="Note93">93.</a>See
          <span id="index-bibl-id2494596"/>William A. Gale and Kenneth W. Church‘Program for aligning sentences in bilingual
          corpora’ , <i>Computational Linguistics</i> 19
          (1993): 75–102, from which the example in the
          text is taken.</div><div class="note"><a id="Note94">94.</a>Our example uses the
English translation of Charles Hoole (1659), and is taken from
<span id="index-bibl-id2495119"/>John E. Sadler (ed.) ed., <i>John Amos
Comenius Orbis Pictus: a facsimile of the first English edition of
1659</i> (Oxford: Oxford University Press, 1968) (The Juvenile
Library).</div><div class="note"><a id="Note95">95.</a>This sample is taken from
a conversation collected and transcribed for the British National
Corpus.</div><div class="note"><a id="Note96">96.</a>See section <a class="link_ptr" href="AI.html#AILC" title="Linguistic Segment Categories">12.1  Linguistic Segment Categories</a> for discussion of the
<span class="tag">&lt;w&gt;</span> and <span class="tag">&lt;c&gt;</span> tags that can be used in the following
examples instead of the <span class="tag">&lt;seg type="word"&gt;</span> and <span class="tag">&lt;seg
type="character"&gt;</span> tags.</div><div class="note"><a id="Note97">97.</a>An alternative way of
representing this problem is discussed in chapter <a class="link_ptr" href="CE.html" title="17">14  Certainty and Responsibility</a>.</div><div class="note"><a id="Note98">98.</a>In this example, we have
placed the <span class="tag">&lt;link&gt;</span> next to the tags that represent the
alternants. It could also have been placed elsewhere in the document,
perhaps within a <span class="tag">&lt;linkGrp&gt;</span>. </div><div class="note"><a id="Note99">99.</a>The variant readings are found in the commercial sheet
music, the performance score, and the Broadway cast recording.</div><div class="note"><a id="Note100">100.</a>The version on which
	    this text is based on is the <a class="link_ref" href="http://www.w3.org/TR/2004/REC-xinclude-20041220/" title="W3C Recommendation dated 20 December 2004.">W3C
	       Recommendation dated 20 December
	       	2004.</a>.</div><div class="note"><a id="Note101">101.</a>This corresponds to the observation
     that overlapping XML tags reflecting a textual version of such an
     inclusion would not even be well-formed XML. This kind of overlap
     in textual phenomena of interest is in fact the major reason that
     stand-off markup is needed.</div></div><div class="stdfooter"><hr/><div class="footer"><a class="plain" href="http://www.tei-c.org/Consortium/">TEI Consortium</a> | <a class="plain" href="index.html">TEI P5</a> | <a class="plain" href="http://www.tei-c.org/Consortium/contact.xml">Feedback</a></div><hr/><address> edited by C.M. Sperberg-McQueen and
	Lou Burnard.
      Date: 2007<br/>Copyright TEI Consortium 2007<!--
	  Generated  using an XSLT version 1.0 stylesheet
	  based on http://www.tei-c.org/Stylesheets/teic/tei.xsl
	  processed using libxslt
	  on 2007-03-13T16:03:00Z--></address></div></div></div></div></body></html>
